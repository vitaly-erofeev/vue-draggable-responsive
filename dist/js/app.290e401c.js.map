{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/previewer.vue?b7f2","webpack:///./src/infrastructure/components/Block.vue?64af","webpack:///./src/infrastructure/components/PreviewBlock.vue?efae","webpack:///./src/index.vue?d3b6","webpack:///./src/domain/model/Sticky.ts","webpack:///./src/domain/model/SizeTypes.ts","webpack:///./src/domain/model/TabProperties.ts","webpack:///./src/App.vue?5cd8","webpack:///./src/index.vue?0d3a","webpack:///./src/infrastructure/components/Block.vue?943d","webpack:///./src/domain/model/Breakpoints.ts","webpack:///./src/domain/model/BlockDTO.ts","webpack:///./src/domain/model/CustomDomRect.ts","webpack:///./src/domain/service/BreakpointsFactory.ts","webpack:///./src/domain/model/StickyTo.ts","webpack:///./src/application/service/BlockManager.ts","webpack:///./src/infrastructure/components/Block.vue","webpack:///./src/domain/model/AddBlockType.ts","webpack:///./src/infrastructure/components/Block.vue?df1c","webpack:///./src/infrastructure/components/Block.vue?7757","webpack:///./src/domain/model/EventTypes.ts","webpack:///./src/infrastructure/service/GuidGenerator.ts","webpack:///./src/infrastructure/domain/repository/BlockRepository.ts","webpack:///./src/infrastructure/service/listeners/SimpleRemoveListener.ts","webpack:///./src/application/service/TabSettings.ts","webpack:///./src/index.vue","webpack:///./src/index.vue?37e7","webpack:///./src/index.vue?adc8","webpack:///./src/previewer.vue?9976","webpack:///./src/infrastructure/components/PreviewBlock.vue?0c0b","webpack:///./src/infrastructure/service/listeners/SimpleAddListener.ts","webpack:///./src/infrastructure/components/PreviewBlock.vue","webpack:///./src/infrastructure/components/PreviewBlock.vue?1aa6","webpack:///./src/infrastructure/components/PreviewBlock.vue?6b89","webpack:///./src/previewer.vue","webpack:///./src/previewer.vue?c92d","webpack:///./src/previewer.vue?f241","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Sticky","SizeTypes","TabPosition","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","on","$event","addContainer","_v","addChildren","load","addSticky","addWithTabs","addTab","removeTab","preview","_s","remove","clearActive","addReplication","toggleHide","switchWidth","switchSticky","addContainerPercent","addContainerPixel","addMinMax","addHorizontalCenter","addVerticalCenter","showHidden","directives","rawName","activeBlock","expression","$$selectedVal","Array","filter","target","options","selected","map","val","_value","$set","multiple","ref","onStartDrag","oncontext","scopedSlots","_u","fn","block","guid","cl","_e","staticRenderFns","staticClass","_l","line","index","x1","y1","x2","y2","refInFor","step","tabSettingsService","$emit","_t","_obj","_obj$1","_obj$2","isHidden","class","isResizing","isDragging","isActive","isActiveAsParent","className","style","stopPropagation","dragStart","event","tabs","position","tabArrowsClass","scrollPrevTab","isShowArrows","directionTabs","tab","activeTabGuid","requiredTabs","includes","isChild","blockTabStyle","getBlockTabStyle","onTabClick","showChildTabs","isExpanded","scrollNextTab","width","sizeTypes","height","sticky","currentPosition","left","top","bottom","right","isHover","isTabsContainer","isEditing","_block","isShowChildren","parentTabGuid","resizeStart","Breakpoints","children","TL","PERCENT","alias","parentGuid","isStretched","isScrollHover","interactive","widthCalc","heightCalc","stickyTo","replication","pagination","isHighlight","minMax","onCenter","properties","use","list","TOP","BlockDTO","getPreparedSizes","_top","_right","_bottom","_left","prepareSizesTypes","types","forEach","type","x","y","domRect","StickyToType","MAP","W","client","movement","offset","size","inverse","H","Y","X","STICKY_OFFSET_MAP","TR","BL","BR","assign","repository","blockElement","clientX","clientY","movementX","movementY","blockElementRect","parentElement","isInteractive","getBlockElementRect","el","getRefByGuid","$el","offsetTop","offsetHeight","LEFT","offsetLeft","offsetWidth","blockRect","fromDocRect","getBoundingClientRect","parentElementRect","scrollLeft","scrollTop","setYPosition","setXPosition","setWidth","setHeight","PIXEL","setAbsolutePosition","setRelativePosition","newValue","breakpoints","build","change","vertical","horizontal","Math","abs","parentElementPositions","floor","currentRelativeSize","getNewRelativeSize","Vue","add","AddBlockType","extend","components","FontAwesomeIcon","inject","getStore","default","props","Number","Boolean","blockManager","undefined","parentBlock","ctrlPressed","tabsOffset","blockWidth","tabsWidth","visitedTabs","stickyToBlock","stickyToElement","computed","reduce","arr","item","availableTabs","getIsHidden","isBlocked","getIsBlocked","visibleTabs","tabSettings","parentKeys","parentKey","parentTabForTree","isShow","defaultData","tabGuids","stickyLines","zIndex","startIndex","parentRef","positionStyle","horizontalAdaptive","marginLeft","marginRight","tabStyle","blockContentStyle","containerHoverStyle","contentType","watch","handler","parent","parentSizesMap","positions","round","oldValue","setSticky","difference","setActiveTab","setTimeout","setIsShowArrows","find","deep","old","parentSize","calcSwitchedSizes","removedTab","mounted","addRef","$nextTick","onDrag","beforeDestroy","removeRef","methods","getByGuid","$refs","draggableContainer","tabsScroll","transform","newStyle","activeTabStyle","getIsStyled","getStyle","getBlockManager","preventDefault","startDrag","document","addEventListener","elementDrag","dragStop","keyDown","keyUp","ctrlKey","removeEventListener","getNextTab","findTabIndex","findIndex","getPrevTab","component","EventTypes","Date","getTime","performance","now","replace","random","toString","blocks","isPreviewMode","previousRequiredBlocks","listeners","refs","resetActiveBlock","prepareBlocks","replicationFunction","function","JSON","parse","stringify","blockModel","answer","_","nestedValue","tabGuid","oldGuid","generate","activeGuid","emitEvent","ADD_BLOCK","blocksMapper","stickyMapper","newGuid","keys","newStickyBlockGuid","toClear","indexOf","setRequiredTab","REMOVE_BLOCK","blockGuid","element","stickyElm","elm","listener","values","isSubscribed","handle","eventType","context","tabSetting","isStyled","isDefaultTab","getTabSettingByGuid","createTabSetting","restoreTabSettingsStructure","console","warn","hiddenConditions","blockedConditions","styledConditions","Block","provide","store","blocksArray","_blocks","getStickyLines","addListener","onBlockRemove","getAllBlockRefs","getRefs","setActiveBlock","clearActiveBlock","getBlocks","getMainParents","setBlocks","set","getMousePosition","elPosition","addBlock","DEFAULT","INTERACTIVE","removeBlock","replicationCallback","isShowTabs","isActiveScrollHover","Function","isShowing","scrollHeight","scrollWidth","replicationIndex","visitedTabGuids","parentSizes","getAbsoluteSizesByParent","topBlockGuid","verticalMargin","minWidth","minHeight","maxWidth","maxHeight","refBlock","setStretchedSize","someGuid","some","setParent","saveActiveTab","defaultTab","getDefaultTab","container","Element","observer","observe","observerInserted","MutationObserver","mutationList","childList","subtree","prepareReplication","buidTreeTabs","childNodes","search","hashTable","getElementsByClassName","onReplicateBlock","replicationBlockGuid","blocksData","log","me","lastGuid","columns","rowGuids","0","row","listenerGuid","newBlock","horizontalMargin","previousRowBlockGuid","removeListener","$parent","currentTab","isDefault","getIsDefaultTab","PreviewBlock","VueDraggableResponsivePreviewer","VueDraggableResponsive","designer","a","containerStyle","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.290e401c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewer.vue?vue&type=style&index=0&id=15577791&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=style&index=0&id=2a65eaf7&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewBlock.vue?vue&type=style&index=0&id=645bc9ea&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=683d5d5c&scoped=true&lang=css&\"","export enum Sticky {\n  TR = 'tr',\n  TL = 'tl',\n  BL = 'bl',\n  BR = 'br'\n}\n","export enum SizeTypes {\n  PERCENT = '%', PIXEL = 'px'\n}\n","export interface TabProperties {\n  use: boolean,\n  list: {\n    guid: string,\n    name: string\n  }[],\n  activeGuid?: string,\n  position: TabPosition,\n  tabArrowsClass?: string,\n  requiredTabs?: string[],\n  containerStyle?: string,\n  tabStyle?: string,\n  activeTabStyle?: string,\n  class?: string,\n  tabStyleByCondition?: string,\n  saveActiveTab?: boolean\n}\nexport enum TabPosition {\n  TOP = 'top',\n  RIGHT = 'right',\n  BOTTOM = 'bottom',\n  LEFT = 'left'\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\"},attrs:{\"id\":\"app\"}},[_c('div',{staticStyle:{\"width\":\"20%\",\"display\":\"inline-block\",\"float\":\"left\",\"height\":\"100%\",\"overflow\":\"auto\"}},[_c('button',{on:{\"click\":function($event){return _vm.addContainer(0)}}},[_vm._v(\"add\")]),_c('button',{on:{\"click\":function($event){return _vm.addContainer(1, $event)}}},[_vm._v(\"addT\")]),_c('button',{on:{\"click\":function($event){return _vm.addContainer(1, $event, true)}}},[_vm._v(\"addStretched\")]),_c('button',{on:{\"click\":_vm.addChildren}},[_vm._v(\"addChild\")]),_c('button',{on:{\"click\":_vm.load}},[_vm._v(\"load\")]),_c('button',{on:{\"click\":function($event){return _vm.addSticky($event)}}},[_vm._v(\"addSticky\")]),_c('button',{on:{\"click\":_vm.get}},[_vm._v(\"get\")]),_c('button',{on:{\"click\":function($event){return _vm.addWithTabs(1, $event)}}},[_vm._v(\"addWithTabs\")]),_c('button',{on:{\"click\":_vm.addTab}},[_vm._v(\"addTab\")]),_c('button',{on:{\"click\":_vm.removeTab}},[_vm._v(\"removeTab\")]),_c('button',{on:{\"click\":function($event){_vm.preview = !_vm.preview}}},[_vm._v(\"preview: \"+_vm._s(_vm.preview))]),_c('button',{on:{\"click\":_vm.remove}},[_vm._v(\"remove active\")]),_c('button',{on:{\"click\":_vm.clearActive}},[_vm._v(\"clear active\")]),_c('button',{on:{\"click\":function($event){return _vm.addReplication(1, $event)}}},[_vm._v(\"add replication\")]),_c('button',{on:{\"click\":_vm.toggleHide}},[_vm._v(\"toggle hide\")]),_c('button',{on:{\"click\":_vm.switchWidth}},[_vm._v(\"switch width\")]),_c('button',{on:{\"click\":_vm.switchSticky}},[_vm._v(\"sticky\")]),_c('button',{on:{\"click\":function($event){return _vm.addContainerPercent(1, $event)}}},[_vm._v(\"percent container\")]),_c('button',{on:{\"click\":function($event){return _vm.addContainerPixel(1, $event)}}},[_vm._v(\"pixel container\")]),_c('button',{on:{\"click\":function($event){return _vm.addMinMax()}}},[_vm._v(\"add min_max\")]),_c('button',{on:{\"click\":function($event){return _vm.addHorizontalCenter()}}},[_vm._v(\"add hor center\")]),_c('button',{on:{\"click\":function($event){return _vm.addVerticalCenter()}}},[_vm._v(\"add ver center\")]),_c('button',{on:{\"click\":function($event){_vm.showHidden = !_vm.showHidden}}},[_vm._v(\"toggle show hidden: \"+_vm._s(_vm.showHidden))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:((_vm.activeBlock || {}).sticky),expression:\"(activeBlock || {}).sticky\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set((_vm.activeBlock || {}), \"sticky\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"tr\"}},[_vm._v(\"Top-Right\")]),_c('option',{attrs:{\"value\":\"tl\"}},[_vm._v(\"Top-Left\")]),_c('option',{attrs:{\"value\":\"br\"}},[_vm._v(\"Bottom-Right\")]),_c('option',{attrs:{\"value\":\"bl\"}},[_vm._v(\"Bottom-Left\")])]),_c('pre',[_vm._v(_vm._s(_vm.activeBlock))])]),_c('vue-draggable-responsive',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.preview),expression:\"!preview\"}],ref:\"designer\",staticStyle:{\"height\":\"500px\",\"width\":\"1059px\",\"display\":\"inline-block\"},attrs:{\"step\":1,\"show-hidden\":_vm.showHidden},on:{\"start-drag\":_vm.onStartDrag,\"contextmenu\":_vm.oncontext},scopedSlots:_vm._u([{key:\"content\",fn:function(ref){\nvar block = ref.block;\nreturn [_vm._v(\" \"+_vm._s(block.guid)+\" \")]}}])}),(_vm.preview)?_c('vue-draggable-responsive-previewer',{ref:\"previewer\",staticStyle:{\"height\":\"500px\",\"width\":\"1059px\",\"display\":\"inline-block\"},attrs:{\"replication-callback\":_vm.cl},scopedSlots:_vm._u([{key:\"content\",fn:function(ref){\nvar block = ref.block;\nreturn [_vm._v(\" \"+_vm._s(block.guid)+\" \")]}}],null,false,1506779330)}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('svg',{attrs:{\"id\":\"svg\"}},_vm._l((_vm.stickyLines),function(line,index){return _c('line',{key:index,staticClass:\"line\",attrs:{\"x1\":line.x1,\"y1\":line.y1,\"x2\":line.x2,\"y2\":line.y2}})}),0),_vm._l((_vm._blocks),function(block){return _c('block',{key:block.guid,ref:block.guid,refInFor:true,attrs:{\"block\":block,\"step\":_vm.step,\"show-hidden\":_vm.showHidden,\"tab-settings-service\":_vm.tabSettingsService},on:{\"start-drag\":function($event){return _vm.$emit('start-drag', $event)},\"stop-drag\":function($event){return _vm.$emit('stop-drag', $event)},\"dragging\":function($event){return _vm.$emit('dragging', $event)},\"contextmenu\":function($event){return _vm.$emit('contextmenu', $event)},\"click\":function($event){return _vm.$emit('click', $event)}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(index,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar _obj, _obj$1, _obj$2;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.block.isHidden || _vm.showHidden),expression:\"!block.isHidden || showHidden\"}],ref:\"draggableContainer\",class:( _obj = {\n    'block': true,\n    'highlight' : _vm.isResizing || _vm.isDragging,\n    'active': _vm.block.isActive,\n    'hidden': _vm.block.isHidden,\n    'active_parent': _vm.block.isActiveAsParent\n  }, _obj[_vm.block.className] = !!_vm.block.className, _obj ),style:(_vm.positionStyle),on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.dragStart($event)},\"contextmenu\":function($event){$event.stopPropagation();return _vm.$emit('contextmenu', { block: _vm.block, event: $event })}}},[(_vm.isTabsContainer)?_c('div',{ref:\"tabsContainer\",class:{\n      'tabs_container' : true,\n      'custom_scrollbar' : true,\n      'position_top': _vm.block.tabs.position === 'top',\n      'position_right': _vm.block.tabs.position === 'right',\n      'position_bottom': _vm.block.tabs.position === 'bottom',\n      'position_left': _vm.block.tabs.position === 'left',\n    },style:(_vm.block.tabs.containerStyle)},[_c('font-awesome-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowArrows),expression:\"isShowArrows\"}],staticClass:\"tabs_button\",class:( _obj$1 = {}, _obj$1[_vm.block.tabs.tabArrowsClass] = true, _obj$1 ),attrs:{\"icon\":\"chevron-left\"},on:{\"click\":_vm.scrollPrevTab}}),_c('div',{ref:\"tabsScroll\",staticClass:\"tabs_onScroll\",class:{ 'tabs_padding': _vm.isShowArrows, 'direction': _vm.directionTabs }},_vm._l((_vm.visibleTabs),function(tab){\n    var _obj;\nreturn _c('div',{key:tab.guid,class:( _obj = {\n          'tab': true,\n          'active': tab.guid === _vm.activeTabGuid\n        }, _obj[_vm.block.tabs.class] = true, _obj['required_tab'] =  _vm.block.tabs.requiredTabs && _vm.block.tabs.requiredTabs.includes(tab.guid), _obj['positionTab'] =  tab.data && tab.data.isChild, _obj ),style:(_vm.blockTabStyle + _vm.getBlockTabStyle(tab)),on:{\"click\":function($event){return _vm.onTabClick(tab.guid)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(tab.data && tab.data.isChild),expression:\"tab.data && tab.data.isChild\"}],on:{\"click\":function($event){return _vm.showChildTabs(tab.guid)}}},[_c('i',{staticClass:\"plus\",class:{'el-icon-arrow-right': !tab.data.isExpanded, 'el-icon-arrow-down': tab.data.isExpanded}})]),_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(tab.name))])])}),0),_c('font-awesome-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowArrows),expression:\"isShowArrows\"}],staticClass:\"tabs_button tabs_button_next\",class:( _obj$2 = {}, _obj$2[_vm.block.tabs.tabArrowsClass] = true, _obj$2 ),attrs:{\"icon\":\"chevron-right\"},on:{\"click\":_vm.scrollNextTab}})],1):_vm._e(),_c('div',{staticClass:\"block_info\"},[_vm._t(\"help_text\",null,{\"block\":_vm.block})],2),_vm._t(\"info\",[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isResizing),expression:\"isResizing\"}],staticClass:\"block_info\"},[_vm._v(\" \"+_vm._s(_vm.block.width)+_vm._s(_vm.block.sizeTypes.width)+\" x \"+_vm._s(_vm.block.height)+_vm._s(_vm.block.sizeTypes.height)+\" \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDragging && ['tl', 'bl'].includes(_vm.block.sticky)),expression:\"isDragging && ['tl', 'bl'].includes(block.sticky)\"}],staticClass:\"position_line left\",style:((\"left: calc(-\" + (_vm.currentPosition.left) + \"px - 1px);width:calc(\" + (_vm.currentPosition.left) + \"px - 1px)\"))},[_c('span',[_vm._v(_vm._s(_vm.block.left)+_vm._s(_vm.block.sizeTypes.left))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDragging && ['tl', 'tr'].includes(_vm.block.sticky)),expression:\"isDragging && ['tl', 'tr'].includes(block.sticky)\"}],staticClass:\"position_line top\",style:((\"top: -\" + (_vm.currentPosition.top) + \"px;height:\" + (_vm.currentPosition.top) + \"px\"))},[_c('span',[_vm._v(_vm._s(_vm.block.top)+_vm._s(_vm.block.sizeTypes.top))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDragging && ['br', 'bl'].includes(_vm.block.sticky)),expression:\"isDragging && ['br', 'bl'].includes(block.sticky)\"}],staticClass:\"position_line bottom\",style:((\"bottom: -\" + (_vm.currentPosition.bottom) + \"px;height:\" + (_vm.currentPosition.bottom) + \"px\"))},[_c('span',[_vm._v(_vm._s(_vm.block.bottom)+_vm._s(_vm.block.sizeTypes.bottom))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDragging && ['tr', 'br'].includes(_vm.block.sticky)),expression:\"isDragging && ['tr', 'br'].includes(block.sticky)\"}],staticClass:\"position_line right\",style:((\"right: -\" + (_vm.currentPosition.right) + \"px;width:\" + (_vm.currentPosition.right) + \"px\"))},[_c('span',[_vm._v(_vm._s(_vm.block.right)+_vm._s(_vm.block.sizeTypes.right))])])],{\"block\":_vm.block,\"isResizing\":_vm.isResizing,\"isDragging\":_vm.isDragging}),_c('div',{staticClass:\"content custom_scrollbar\",style:(_vm.blockContentStyle),on:{\"mouseover\":function($event){_vm.block.isHover = true},\"mouseleave\":function($event){_vm.block.isHover = false},\"click\":function($event){$event.stopPropagation();return _vm.$emit('click', { block: $event.block || _vm.block, event: $event.event || $event })}}},[(!_vm.isTabsContainer)?_vm._t(\"content\",null,{\"block\":_vm.block}):_vm._e(),(!_vm.block.isEditing && !_vm.isTabsContainer)?_c('svg',{attrs:{\"id\":\"svg\"}},_vm._l((_vm.stickyLines),function(line,index){return _c('line',{key:index,staticClass:\"line\",attrs:{\"x1\":line.x1,\"y1\":line.y1,\"x2\":line.x2,\"y2\":line.y2}})}),0):_vm._e(),_vm._l((_vm.children),function(_block){return _c('block',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowChildren && _block.parentTabGuid === _vm.activeTabGuid),expression:\"isShowChildren && _block.parentTabGuid === activeTabGuid\"}],key:_block.guid,ref:_block.guid,refInFor:true,attrs:{\"block\":_block,\"tab-settings-service\":_vm.tabSettingsService,\"step\":_vm.step,\"show-hidden\":_vm.showHidden},on:{\"start-drag\":function($event){return _vm.$emit('start-drag', $event)},\"stop-drag\":function($event){return _vm.$emit('stop-drag', $event)},\"dragging\":function($event){return _vm.$emit('dragging', $event)},\"contextmenu\":function($event){return _vm.$emit('contextmenu', $event)},\"click\":function($event){return _vm.$emit('click', { block: $event.block || _block, event: $event.event || $event })}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(index,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})})],2),_c('font-awesome-icon',{class:(\"resize-handler \" + (_vm.block.sticky)),attrs:{\"icon\":\"angle-down\"},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.resizeStart($event)}}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export enum Breakpoints {\n  X, Y, W, H\n}\n","import { Sticky } from './Sticky'\nimport { BlockProperties } from '@/domain/model/BlockProperties'\nimport { SizeTypes } from '@/domain/model/SizeTypes'\nimport { InteractiveProperties } from '@/domain/model/InteractiveProperties'\nimport { TabPosition, TabProperties } from '@/domain/model/TabProperties'\nimport { CalcProperties } from '@/domain/model/CalcProperties'\nimport { StickyTo } from '@/domain/model/StickyTo'\nimport { ReplicationProperties } from '@/domain/model/ReplicationProperties'\nimport { MinMax } from '@/domain/model/MinMax'\nimport { OnCenter } from '@/domain/model/OnCenter'\n\nexport default class BlockDTO {\n  [index: string]: any;\n\n  onCenter?: OnCenter\n  widthCalc?: CalcProperties\n  heightCalc?: CalcProperties\n  minMax?: MinMax\n  width: number\n  height: number\n  top?: number\n  right?: number\n  bottom?: number\n  left?: number\n  sticky: Sticky\n  sizeTypes: { [index: string]: any; width: SizeTypes; height: SizeTypes; top: SizeTypes; right: SizeTypes; bottom: SizeTypes; left: SizeTypes }\n  children: BlockDTO[]\n  guid: string\n  alias?: string\n  className?: string\n  isStretched: boolean = false\n  stickyTo?: StickyTo\n  parentGuid?: string\n  style?: string\n  isActive: boolean = false\n  isActiveAsParent: boolean = false\n  isScrollHover?: boolean = false\n  interactive?: InteractiveProperties\n  tabs?: TabProperties = {\n    use: false,\n    list: [],\n    position: TabPosition.TOP\n  }\n  parentTabGuid?: string\n  isEditing?: boolean\n  replication?: ReplicationProperties\n  pagination?: {\n    replicationGuid: string,\n    total: number,\n    limit: number\n  }\n  isHover: boolean = false\n  isHidden: boolean = false\n  isHighlight: boolean = false\n  properties: {[index: string]: any;} = {}\n\n  constructor (\n    {\n      children = [],\n      width = 0,\n      height = 0,\n      top = 0,\n      right = 0,\n      bottom = 0,\n      left = 0,\n      sticky = Sticky.TL,\n      sizeTypes = {\n        width: SizeTypes.PERCENT,\n        height: SizeTypes.PERCENT,\n        top: SizeTypes.PERCENT,\n        right: SizeTypes.PERCENT,\n        bottom: SizeTypes.PERCENT,\n        left: SizeTypes.PERCENT\n      },\n      className,\n      guid = 'guid',\n      alias,\n      parentGuid,\n      isStretched,\n      isScrollHover,\n      style,\n      interactive,\n      tabs,\n      parentTabGuid,\n      widthCalc,\n      heightCalc,\n      stickyTo,\n      replication,\n      pagination,\n      isHover = false,\n      isHidden = false,\n      isHighlight = false,\n      minMax,\n      onCenter,\n      properties = {}\n    }: BlockProperties\n  ) {\n    this.widthCalc = widthCalc\n    this.heightCalc = heightCalc\n    this.stickyTo = stickyTo\n    this.isHover = isHover\n    this.isHidden = isHidden\n    this.isHighlight = isHighlight\n    this.minMax = minMax\n    this.onCenter = onCenter\n    const {\n      _top, _right, _bottom, _left\n    } = BlockDTO.getPreparedSizes({\n      top,\n      right,\n      bottom,\n      left,\n      sticky\n    })\n    this.className = className\n    this.top = _top\n    this.right = _right\n    this.bottom = _bottom\n    this.left = _left\n\n    this.sticky = sticky\n    this.sizeTypes = sizeTypes\n    this.children = children\n    this.width = width\n    this.height = height\n    this.guid = guid\n    this.alias = alias\n    this.parentGuid = parentGuid\n    this.isStretched = isStretched\n    this.isScrollHover = isScrollHover\n    this.style = style\n    this.interactive = interactive\n    this.tabs = tabs\n    this.parentTabGuid = parentTabGuid\n    this.isEditing = false\n    this.replication = replication\n    this.pagination = pagination\n    this.properties = properties\n    this.prepareSizesTypes()\n  }\n\n  private static getPreparedSizes ({\n    top, right, bottom, left, sticky\n  }: {\n    top: number,\n    right: number,\n    bottom: number,\n    left: number,\n    sticky: Sticky\n  }): { _top: number, _right: number, _bottom: number, _left: number } {\n    let _top, _right, _bottom, _left\n    _top = top\n    _left = left\n    _bottom = bottom\n    _right = right\n    if (sticky === Sticky.TL) {\n      _top = top < 0 ? 0 : top\n      _left = left < 0 ? 0 : left\n    }\n    return {\n      _top,\n      _right,\n      _bottom,\n      _left\n    }\n  }\n\n  private prepareSizesTypes (): void {\n    const types = [\n      'top',\n      'left',\n      'right',\n      'bottom',\n      'height',\n      'width'\n    ]\n    types.forEach((type) => {\n      if (!this.sizeTypes[type]) {\n        this.sizeTypes[type] = SizeTypes.PERCENT\n      }\n    })\n  }\n}\n","export default class CustomDomRect {\n  [index: string]: any\n\n  x: number = 0\n  y: number = 0\n  width: number = 0\n  height: number = 0\n  left: number = 0\n  right: number = 0\n  top: number = 0\n  bottom: number = 0\n\n  public static fromDocRect (domRect: DOMRect): CustomDomRect {\n    const { top, right, bottom, left, width, height, x, y } = domRect\n    return <CustomDomRect>{ top, right, bottom, left, width, height, x, y }\n  }\n}\n","import { Breakpoints } from '../model/Breakpoints'\nimport { Sticky } from '../model/Sticky'\n\nconst MAP = {\n  [Breakpoints.W]: {\n    client: 'clientX',\n    movement: 'movementX',\n    offset: 'width',\n    size: 'width',\n    inverse: false\n  },\n  [Breakpoints.H]: {\n    client: 'clientY',\n    movement: 'movementY',\n    offset: 'height',\n    size: 'height',\n    inverse: false\n  },\n  [Breakpoints.Y]: {\n    client: 'clientY',\n    movement: 'movementY',\n    size: 'height',\n    offset: 'top',\n    inverse: false\n  },\n  [Breakpoints.X]: {\n    client: 'clientX',\n    movement: 'movementX',\n    size: 'width',\n    offset: 'left',\n    inverse: false\n  }\n}\n\nconst STICKY_OFFSET_MAP:{[index: string]: any} = {\n  [Breakpoints.X]: {\n    [Sticky.TR]: { offset: 'right', inverse: true },\n    [Sticky.TL]: { offset: 'left', inverse: false },\n    [Sticky.BL]: { offset: 'left', inverse: false },\n    [Sticky.BR]: { offset: 'right', inverse: true }\n  },\n  [Breakpoints.Y]: {\n    [Sticky.TR]: { offset: 'top', inverse: false },\n    [Sticky.TL]: { offset: 'top', inverse: false },\n    [Sticky.BL]: { offset: 'bottom', inverse: true },\n    [Sticky.BR]: { offset: 'bottom', inverse: true }\n  },\n  [Breakpoints.H]: {\n    [Sticky.BL]: { inverse: true },\n    [Sticky.BR]: { inverse: true }\n  },\n  [Breakpoints.W]: {\n    [Sticky.TR]: { inverse: true },\n    [Sticky.BR]: { inverse: true }\n  }\n}\nexport default class BreakpointsFactory {\n  public static build (type: Breakpoints, sticky: Sticky): {\n    client: string, movement: string, size: string, offset: string, inverse: boolean\n  } {\n    const options = (STICKY_OFFSET_MAP[type] || {})[sticky] || null\n    if (options) {\n      return Object.assign({}, MAP[type], options)\n    }\n    return MAP[type]\n  }\n}\n","export interface StickyTo {\n  type?: StickyToType,\n  guid?: string\n}\nexport enum StickyToType {\n  TOP = 'top',\n  RIGHT = 'right',\n  BOTTOM = 'bottom',\n  LEFT = 'left'\n}\n","import BlockDTO from '@/domain/model/BlockDTO'\nimport CustomMouseEvent from '@/domain/model/CustomMouseEvent'\nimport CustomDomRect from '@/domain/model/CustomDomRect'\nimport BreakpointsFactory from '@/domain/service/BreakpointsFactory'\nimport { Breakpoints } from '@/domain/model/Breakpoints'\nimport { BlockRepositoryInterface } from '@/domain/repository/BlockRepositoryInterface'\nimport { SizeTypes } from '@/domain/model/SizeTypes'\nimport { StickyToType } from '@/domain/model/StickyTo'\nimport { Sticky } from '@/domain/model/Sticky'\n\nexport default class BlockManager {\n  [index: string]: any;\n\n  private block: BlockDTO\n  private repository: BlockRepositoryInterface\n  private clientX: number = 0\n  private clientY: number = 0\n  private movementX: number = 0\n  private movementY: number = 0\n  private type: string = 'drag'\n  private blockElement: Element\n  private blockElementRect: CustomDomRect = new CustomDomRect()\n  private parentElement: HTMLElement | null\n  private readonly step: number\n\n  constructor (block: BlockDTO, repository: BlockRepositoryInterface, blockElement: Element, step: number = 0.5) {\n    this.repository = repository\n    this.block = block\n    this.step = step\n    this.blockElement = blockElement\n    this.parentElement = this.blockElement.parentElement\n  }\n\n  public startDrag (event: MouseEvent, type: string, isInteractive: boolean = false): void {\n    this.blockElementRect = this.getBlockElementRect()\n    this.clientX = event.clientX\n    this.clientY = event.clientY\n    this.type = type\n\n    if (this.type === 'resize') {\n      if (this.block.widthCalc && this.block.widthCalc.type && this.block.widthCalc.value) {\n        if (this.block.widthCalc.type === '-') {\n          if (this.block.sticky === Sticky.TL || this.block.sticky === Sticky.BL) {\n            this.clientX = this.clientX - this.block.widthCalc.value\n          } else {\n            this.clientX = this.clientX + this.block.widthCalc.value\n          }\n        } else {\n          if (this.block.sticky === Sticky.TL || this.block.sticky === Sticky.BL) {\n            this.clientX = this.clientX + this.block.widthCalc.value\n          } else {\n            this.clientX = this.clientX - this.block.widthCalc.value\n          }\n        }\n      }\n      if (this.block.heightCalc && this.block.heightCalc.type && this.block.heightCalc.value) {\n        if (this.block.heightCalc.type === '-') {\n          if (this.block.sticky === Sticky.TL || this.block.sticky === Sticky.TR) {\n            this.clientY = this.clientY - this.block.heightCalc.value\n          } else {\n            this.clientY = this.clientY + this.block.heightCalc.value\n          }\n        } else {\n          if (this.block.sticky === Sticky.TL || this.block.sticky === Sticky.TR) {\n            this.clientY = this.clientY + this.block.heightCalc.value\n          } else {\n            this.clientY = this.clientY - this.block.heightCalc.value\n          }\n        }\n      }\n    }\n\n    if (isInteractive) {\n      this.clientX = this.blockElementRect.x + 15\n      this.clientY = this.blockElementRect.y + 15\n    }\n    if (this.type === 'drag' && isInteractive) {\n      if (this.block.stickyTo?.guid) {\n        const el = this.repository.getRefByGuid(this.block.stickyTo?.guid) as unknown as {\n          $el: {\n            offsetTop: number, offsetLeft: number, offsetHeight: number, offsetWidth: number\n          }\n        }\n        if (this.block.stickyTo?.type === StickyToType.TOP) {\n          this.clientY += el.$el.offsetTop + el.$el.offsetHeight\n        } else if (this.block.stickyTo?.type === StickyToType.LEFT) {\n          this.clientX += el.$el.offsetLeft + el.$el.offsetWidth\n        }\n      }\n    }\n  }\n\n  private getBlockElementRect (): CustomDomRect {\n    const blockRect: CustomDomRect = CustomDomRect.fromDocRect(this.blockElement.getBoundingClientRect())\n    if (!this.parentElement) {\n      return blockRect\n    }\n    const parentElementRect = this.parentElement.getBoundingClientRect()\n    blockRect.left -= parentElementRect.left\n    blockRect.top -= parentElementRect.top\n\n    blockRect.left += this.parentElement.scrollLeft\n    blockRect.top += this.parentElement.scrollTop\n\n    blockRect.right = parentElementRect.width - (blockRect.left + blockRect.width)\n    blockRect.bottom = parentElementRect.height - (blockRect.top + blockRect.height)\n\n    return blockRect\n  }\n\n  public static getAbsoluteSizesByParent (block: BlockDTO, blockElement: Element): CustomDomRect {\n    let blockRect = new CustomDomRect()\n    const parentElement = blockElement.parentElement\n    if (!parentElement) {\n      return blockRect\n    }\n    const parentElementRect = parentElement.getBoundingClientRect()\n    blockRect.height = parentElementRect.height / 100 * block.height\n    blockRect.width = parentElementRect.width / 100 * block.width\n\n    return blockRect\n  }\n\n  // TODO:  sticky\n  public change (event: MouseEvent): void {\n    this.movementX = this.clientX - event.clientX\n    this.movementY = this.clientY - event.clientY\n    if (this.type === 'drag') {\n      this.setYPosition(event)\n      this.setXPosition(event)\n    } else if (this.type === 'resize') {\n      this.setWidth(event)\n      this.setHeight(event)\n    }\n  }\n\n  private setWidth (event: MouseEvent): void {\n    switch (this.block.sizeTypes.width) {\n      case SizeTypes.PIXEL:\n        this.setAbsolutePosition(Breakpoints.W, event)\n        break\n      case SizeTypes.PERCENT:\n        this.setRelativePosition(Breakpoints.W)\n        break\n    }\n  }\n\n  private setHeight (event: MouseEvent): void {\n    switch (this.block.sizeTypes.height) {\n      case SizeTypes.PIXEL:\n        this.setAbsolutePosition(Breakpoints.H, event)\n        break\n      case SizeTypes.PERCENT:\n        this.setRelativePosition(Breakpoints.H)\n        break\n    }\n  }\n\n  private setAbsolutePosition (type: Breakpoints, event: CustomMouseEvent): void {\n    // TODO:   \n    const breakpoints = BreakpointsFactory.build(type, this.block.sticky)\n    let newValue\n    if (breakpoints.inverse) {\n      newValue = this.block[breakpoints.offset] + this[breakpoints.movement]\n    } else {\n      newValue = this.block[breakpoints.offset] - this[breakpoints.movement]\n    }\n    if (newValue < 0) {\n      return\n    }\n    this[breakpoints.client] = event[breakpoints.client]\n    this.repository.change(this.block.guid, breakpoints.offset, newValue)\n    // why?\n    this.block[breakpoints.offset] = newValue\n  }\n\n  private setYPosition (event: MouseEvent): void {\n    if (this.block.onCenter?.vertical) {\n      return\n    }\n    const breakpoints = BreakpointsFactory.build(Breakpoints.Y, this.block.sticky)\n    switch (this.block.sizeTypes[breakpoints.offset]) {\n      case SizeTypes.PIXEL:\n        this.setAbsolutePosition(Breakpoints.Y, event)\n        break\n      case SizeTypes.PERCENT:\n        this.setRelativePosition(Breakpoints.Y)\n        break\n    }\n  }\n\n  private setXPosition (event: MouseEvent): void {\n    if (this.block.onCenter?.horizontal) {\n      return\n    }\n    const breakpoints = BreakpointsFactory.build(Breakpoints.X, this.block.sticky)\n    switch (this.block.sizeTypes[breakpoints.offset]) {\n      case SizeTypes.PIXEL:\n        this.setAbsolutePosition(Breakpoints.X, event)\n        break\n      case SizeTypes.PERCENT:\n        this.setRelativePosition(Breakpoints.X)\n        break\n    }\n  }\n\n  private setRelativePosition (type: Breakpoints): void {\n    const breakpoints = BreakpointsFactory.build(type, this.block.sticky)\n    if (!this.parentElement || Math.abs(this[breakpoints.movement]) < 2) {\n      return\n    }\n    const parentElementPositions: CustomDomRect = this.parentElement.getBoundingClientRect()\n    let currentPosition\n    if (breakpoints.inverse) {\n      currentPosition = Math.floor(this.blockElementRect[breakpoints.offset]) + this[breakpoints.movement]\n    } else {\n      currentPosition = Math.floor(this.blockElementRect[breakpoints.offset]) - this[breakpoints.movement]\n    }\n    if (this.block.stickyTo?.guid && (type === Breakpoints.Y || type === Breakpoints.X)) {\n      const el = this.repository.getRefByGuid(this.block.stickyTo?.guid) as unknown as {\n        $el: {\n          offsetTop: number, offsetLeft: number, offsetHeight: number, offsetWidth: number\n        }\n      }\n      if (this.block.stickyTo?.type === StickyToType.TOP && type === Breakpoints.Y) {\n        currentPosition -= el.$el.offsetTop + el.$el.offsetHeight\n      } else if (this.block.stickyTo?.type === StickyToType.LEFT && type === Breakpoints.X) {\n        currentPosition -= el.$el.offsetLeft + el.$el.offsetWidth\n      }\n    }\n    const currentRelativeSize = Math.floor(currentPosition / ((parentElementPositions[breakpoints.size] / 100) * this.step) * this.step)\n\n    this.repository.change(this.block.guid, breakpoints.offset, this.getNewRelativeSize(type, currentRelativeSize))\n    // this.block[breakpoints.offset] = this.getNewRelativeSize(type, currentRelativeSize)\n  }\n\n  private getNewRelativeSize (type: Breakpoints, currentRelativeSize: number): number {\n    const size = Math.floor(currentRelativeSize / this.step) * this.step\n\n    if (type === Breakpoints.W || type === Breakpoints.H) {\n      return size > 100 ? 100 : (size < 1 ? 1 : size)\n    } else if (type === Breakpoints.X || type === Breakpoints.Y) {\n      return size < 0 ? 0 : size\n    }\n\n    return size\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// eslint-disable-next-line no-unused-vars\nimport Vue_, { VueConstructor } from 'vue'\nimport BlockDTO from '../../domain/model/BlockDTO'\n// eslint-disable-next-line no-unused-vars\nimport { Position } from '@/domain/model/PositionCss'\nimport BlockManager from '@/application/service/BlockManager'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faAngleDown, faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons'\nimport { Sticky } from '@/domain/model/Sticky'\n// eslint-disable-next-line no-unused-vars\nimport { DataSourceInjected } from '@/infrastructure/domain/model/DataSourceInjected'\nimport { StickyToType } from '@/domain/model/StickyTo'\nimport { SizeTypes } from '@/domain/model/SizeTypes'\n\nconst Vue = Vue_ as VueConstructor<Vue_ & DataSourceInjected>\nlibrary.add(faAngleDown, faChevronRight, faChevronLeft)\n\nexport default Vue.extend({\n  name: 'Block',\n\n  components: {\n    FontAwesomeIcon\n  },\n\n  inject: {\n    getStore: {\n      default: () => () => {}\n    }\n  },\n\n  props: {\n    block: {\n      type: BlockDTO\n    },\n    step: {\n      type: Number\n    },\n    showHidden: {\n      type: Boolean,\n      default: false\n    },\n    tabSettingsService: {\n      type: Object\n    }\n  },\n\n  data (): {\n    blockManager: undefined | BlockManager,\n    isResizing: boolean,\n    isDragging: boolean,\n    currentPosition: {\n      [index: string]: any;\n      left: number,\n      top: number,\n      right: number,\n      bottom: number\n    },\n    parentBlock?: BlockDTO,\n    parentElement?: Element,\n    ctrlPressed: boolean,\n    activeTabGuid?: string,\n    tabsOffset: number,\n    blockWidth: number,\n    tabsWidth: number,\n    isShowArrows: boolean,\n    visitedTabs: string[],\n    stickyToBlock?: BlockDTO,\n    stickyToElement?: any\n    } {\n    return {\n      blockManager: undefined,\n      isResizing: false,\n      isDragging: false,\n      currentPosition: {\n        left: 0,\n        top: 0,\n        right: 0,\n        bottom: 0\n      },\n      parentBlock: undefined,\n      parentElement: undefined,\n      ctrlPressed: false,\n      activeTabGuid: undefined,\n      tabsOffset: 0,\n      blockWidth: 0,\n      tabsWidth: 0,\n      isShowArrows: false,\n      visitedTabs: [],\n      stickyToBlock: undefined,\n      stickyToElement: undefined\n    }\n  },\n\n  computed: {\n    //    \n    children (): object[] {\n      if (this.activeTabGuid) {\n        return this.block.children.reduce((arr: object[], item) => {\n          if (item.parentTabGuid === this.activeTabGuid) {\n            if (!this.visitedTabs.includes(item.guid)) {\n              this.visitedTabs.push(item.guid)\n            }\n          }\n\n          if (this.visitedTabs.includes(item.guid)) {\n            arr.push(item)\n          }\n\n          return arr\n        }, [])\n      } else {\n        return this.block.children\n      }\n    },\n\n    availableTabs (): Array<object> {\n      if (!this.block?.tabs?.use || this.block?.tabs?.list?.length < 1) {\n        return []\n      }\n\n      return this.block.tabs.list.filter(tab => {\n        if (this.tabSettingsService) {\n          const isHidden = this.tabSettingsService.getIsHidden(tab.guid)\n          const isBlocked = this.tabSettingsService.getIsBlocked(tab.guid)\n\n          if (isHidden || isBlocked) {\n            return false\n          }\n        }\n\n        return true\n      })\n    },\n\n    visibleTabs (): { guid: string, name: string, data: any }[] {\n      if (!this.block?.tabs?.use || this.block?.tabs?.list?.length < 1) {\n        return []\n      }\n      let tabs = this.tabSettingsService.tabSettings || {}\n\n      if (this.tabSettingsService) {\n        const parentKeys: { [key: string]: boolean } = {}\n\n        //  parentKeys ,   parentTabForTree\n        for (const key in tabs) {\n          if (Object.prototype.hasOwnProperty.call(tabs, key)) {\n            const parentKey = tabs[key].parentTabForTree\n            if (parentKey) {\n              parentKeys[parentKey] = true\n            }\n          }\n        }\n\n        for (const guid in tabs) {\n          if (Object.prototype.hasOwnProperty.call(tabs, guid)) {\n            //  svg  \n            tabs[guid].isExpanded = false\n            //       -    \n            if (!tabs[guid].parentTabForTree && parentKeys[guid]) {\n              tabs[guid].isShow = true\n            }\n            //  ,   -     \n            if (tabs[guid].parentTabForTree) {\n              tabs[guid].isShow = false\n            }\n            //   -  \n            if (parentKeys[guid]) {\n              tabs[guid].isChild = true\n            } else {\n              tabs[guid].isChild = false\n            }\n          }\n        }\n        const defaultData = { isChild: false, isExpanded: false, isShow: false, parentTabForTree: '' }\n        let result = this.block.tabs.list\n          .map(tab => {\n            return {\n              guid: tab.guid,\n              name: tab.name,\n              data: tabs[tab.guid] || defaultData\n            }\n          })\n\n        return result\n      }\n      return []\n    },\n\n    tabGuids () {\n      return (this.block.tabs?.list || []).map((item) => item.guid)\n    },\n\n    stickyLines () {\n      return []\n      // return this.getStore().getStickyLines(this.block.guid)\n    },\n\n    zIndex (): number {\n      const startIndex = 101\n      if (!this.block.parentGuid) {\n        return startIndex + (this.block.tabs?.use ? 1 : 0)\n      }\n      let parentRef = this.getStore().getRefByGuid(this.block.parentGuid) as unknown as {\n        zIndex: number\n      }\n      if (!parentRef) {\n        return startIndex\n      }\n\n      return parentRef.zIndex + 1 + (this.block.tabs?.use ? 1 : 0)\n    },\n\n    isTabsContainer (): boolean {\n      return this.block.tabs?.use || false\n    },\n\n    directionTabs (): boolean {\n      return (this.block.tabs?.position === 'left' || this.block.tabs?.position === 'right')\n    },\n\n    positionStyle (): object {\n      let position: Position = {}\n\n      switch (this.block.sticky) {\n        case Sticky.TL:\n          position = {\n            top: this.block.top + this.block.sizeTypes.top,\n            left: this.block.left + this.block.sizeTypes.left\n          }\n          break\n        case Sticky.TR:\n          position = {\n            top: this.block.top + this.block.sizeTypes.top,\n            right: this.block.right + this.block.sizeTypes.right\n          }\n          break\n        case Sticky.BL:\n          position = {\n            bottom: this.block.bottom + this.block.sizeTypes.bottom,\n            left: this.block.left + this.block.sizeTypes.left\n          }\n          break\n        case Sticky.BR:\n          position = {\n            bottom: this.block.bottom + this.block.sizeTypes.bottom,\n            right: this.block.right + this.block.sizeTypes.right\n          }\n          break\n        default:\n          position = {\n            top: this.block.top + this.block.sizeTypes.top,\n            left: this.block.left + this.block.sizeTypes.left\n          }\n          break\n      }\n\n      if (this.block.isHidden && !this.showHidden) {\n        if (this.block.stickyTo?.guid && this.block.stickyTo?.type) {\n          if (this.block.stickyTo.type === StickyToType.TOP) {\n            position.top = '0px'\n          } else if (this.block.stickyTo.type === StickyToType.LEFT) {\n            position.left = '0px'\n          }\n        }\n      }\n\n      if (this.block.stickyTo?.guid && this.block.stickyTo?.type) {\n        const stickyToBlock = this.stickyToBlock\n        const stickyToElement = this.stickyToElement\n\n        if (stickyToBlock && stickyToBlock.parentGuid === this.block.parentGuid && stickyToElement) {\n          switch (this.block.stickyTo.type) {\n            case StickyToType.TOP:\n              position.top =\n                  `calc(${stickyToElement.positionStyle.height} + ${stickyToElement.positionStyle.top} + ${position.top})`\n              break\n            case StickyToType.LEFT:\n              position.left =\n                  `calc(${stickyToElement.positionStyle.width} + ${stickyToElement.positionStyle.left} + ${position.left})`\n              break\n          }\n        }\n      }\n\n      let width = this.block.width + this.block.sizeTypes.width\n      let height = this.block.height + this.block.sizeTypes.height\n\n      if (this.block.widthCalc && this.block.widthCalc.type && this.block.widthCalc.value) {\n        width = `calc(${width} ${this.block.widthCalc.type} ${this.block.widthCalc.value}px)`\n      }\n      if (this.block.heightCalc && this.block.heightCalc.type && this.block.heightCalc.value) {\n        height = `calc(${height} ${this.block.heightCalc.type} ${this.block.heightCalc.value}px)`\n      }\n\n      if (this.block.isHidden && !this.showHidden) {\n        width = '0px'\n        height = '0px'\n      }\n\n      if (!this.block.stickyTo?.guid && this.block.onCenter?.horizontal) {\n        if (this.block.sticky === Sticky.BL || this.block.sticky === Sticky.TL) {\n          position.left = `calc(50% - calc(${width} / 2))`\n        } else {\n          position.right = `calc(50% - calc(${width} / 2))`\n        }\n      }\n      //   ()\n      if (!this.block.stickyTo?.guid && this.block.onCenter?.horizontalAdaptive) {\n        position.marginLeft = 'auto'\n        position.marginLeft = 'auto'\n        position.marginRight = 'auto'\n        position.left = '0'\n        position.right = '0'\n      }\n\n      if (!this.block.stickyTo?.guid && this.block.onCenter?.vertical) {\n        if (this.block.sticky === Sticky.TR || this.block.sticky === Sticky.TL) {\n          position.top = `calc(50% - calc(${height} / 2))`\n        } else {\n          position.bottom = `calc(50% - calc(${height} / 2))`\n        }\n      }\n\n      return Object.assign(position, {\n        width: width,\n        height: height,\n        zIndex: this.zIndex\n      })\n    },\n\n    blockTabStyle () {\n      let style = ''\n\n      if (this.block.tabs) {\n        style += this.block.tabs.tabStyle\n      }\n\n      return style\n    },\n\n    blockContentStyle () {\n      let style = ''\n\n      const block = this.block\n\n      if (block.style) {\n        style += block.style\n      }\n\n      if (block.isHover) {\n        if (block.interactive?.containerHoverStyle) {\n          style += '; ' + block.interactive.containerHoverStyle\n        }\n      }\n\n      return style\n    },\n\n    isShowChildren () {\n      let isShow = true\n\n      const block = this.block\n\n      if (block.properties?.contentType === 'registry') {\n        isShow = false\n      }\n\n      return isShow\n    }\n  },\n\n  watch: {\n    'block.sticky': {\n      handler (value) {\n        if (!value) {\n          return\n        }\n        const parent = this.$el.parentElement as {\n          [index: string]: any;\n        }\n        if (!parent) {\n          return\n        }\n        if (this.block.stickyTo?.guid && value !== Sticky.TL) {\n          this.block.stickyTo.guid = undefined\n        }\n\n        const map: {\n          [index: string]: any;\n        } = {\n          [Sticky.TL]: ['top', 'left'],\n          [Sticky.TR]: ['top', 'right'],\n          [Sticky.BL]: ['bottom', 'left'],\n          [Sticky.BR]: ['bottom', 'right']\n        }\n        const parentSizesMap: {\n          [index: string]: any;\n        } = {\n          top: 'offsetHeight',\n          left: 'offsetWidth',\n          bottom: 'offsetHeight',\n          right: 'offsetWidth'\n        }\n\n        const positions = map[value]\n        positions.forEach((position: string) => {\n          this.block[position] = this.block.sizeTypes[position] === SizeTypes.PERCENT\n            ? Math.round(this.currentPosition[position] / (parent[parentSizesMap[position]] / 100))\n            : Math.round(this.currentPosition[position])\n        })\n      }\n    },\n\n    'block.stickyTo.guid': {\n      handler (value, oldValue) {\n        if (!this.$el.parentElement) {\n          return\n        }\n        this.setSticky(value)\n        if (oldValue && !value) {\n          const el = this.getStore().getRefByGuid(oldValue) as unknown as {\n            $el: {\n              offsetTop: number, offsetLeft: number, offsetHeight: number, offsetWidth: number\n            }\n          }\n          if (this.block.stickyTo?.type === StickyToType.TOP) {\n            let difference = el.$el.offsetTop + el.$el.offsetHeight\n            if (this.block.sizeTypes.top === SizeTypes.PERCENT) {\n              difference = difference / (this.$el.parentElement.offsetHeight / 100)\n            }\n            this.block.top = Math.round((this.block.top || 0) + difference)\n          } else if (this.block.stickyTo?.type === StickyToType.LEFT) {\n            let difference = el.$el.offsetLeft + el.$el.offsetWidth\n            if (this.block.sizeTypes.left === SizeTypes.PERCENT) {\n              difference = difference / (this.$el.parentElement.offsetWidth / 100)\n            }\n            this.block.left = Math.round((this.block.left || 0) + difference)\n          }\n          return\n        }\n        if (!value || !this.block.stickyTo?.guid) {\n          return\n        }\n        const el = this.getStore().getRefByGuid(this.block.stickyTo?.guid) as unknown as {\n          $el: {\n            offsetTop: number, offsetLeft: number, offsetHeight: number, offsetWidth: number\n          }\n        }\n        if (this.block.stickyTo?.type === StickyToType.TOP) {\n          let difference = el.$el.offsetTop + el.$el.offsetHeight\n          if (this.block.sizeTypes.top === SizeTypes.PERCENT) {\n            difference = difference / (this.$el.parentElement.offsetHeight / 100)\n          }\n          this.block.top = Math.round((this.block.top || 0) - difference)\n        } else if (this.block.stickyTo?.type === StickyToType.LEFT) {\n          let difference = el.$el.offsetLeft + el.$el.offsetWidth\n          if (this.block.sizeTypes.left === SizeTypes.PERCENT) {\n            difference = difference / (this.$el.parentElement.offsetWidth / 100)\n          }\n          this.block.left = Math.round((this.block.left || 0) - difference)\n        }\n      }\n    },\n\n    activeTabGuid (guid) {\n      this.getStore().setActiveTab(this.block.guid, guid)\n    },\n\n    'block.tabs.list': {\n      handler () {\n        if (this.isTabsContainer) {\n          setTimeout(() => {\n            this.setIsShowArrows()\n          }, 0)\n        }\n        if (this.block.tabs?.list.length === 1) {\n          this.block.children.forEach(el => {\n            el.parentTabGuid = this.block.tabs?.list[0].guid\n          })\n        }\n        if (!this.block.tabs?.list.find(item => item.guid === this.activeTabGuid)) {\n          if (this.block.tabs?.list[0]?.guid) {\n            this.onTabClick(this.block.tabs.list[0].guid)\n          }\n        }\n      },\n      deep: true\n    },\n\n    'block.sizeTypes.width': {\n      handler (value: SizeTypes, old: SizeTypes) {\n        if (value === old || !value) {\n          return\n        }\n        if (!this.$el.parentElement) {\n          return\n        }\n        let parentSize = this.$el.parentElement.offsetWidth\n        const oldValue = this.block.width\n        this.block.width = this.calcSwitchedSizes(value, parentSize, oldValue)\n      },\n      deep: true\n    },\n\n    'block.sizeTypes.height': {\n      handler (value: SizeTypes, old: SizeTypes) {\n        if (value === old || !value) {\n          return\n        }\n        if (!this.$el.parentElement) {\n          return\n        }\n        let parentSize = this.$el.parentElement.offsetHeight\n        const oldValue = this.block.height\n        this.block.height = this.calcSwitchedSizes(value, parentSize, oldValue)\n      },\n      deep: true\n    },\n\n    'block.sizeTypes.top': {\n      handler (value: SizeTypes, old: SizeTypes) {\n        if (value === old || !value) {\n          return\n        }\n        if (!this.$el.parentElement) {\n          return\n        }\n        let parentSize = this.$el.parentElement.offsetHeight\n        const oldValue = this.block.top\n        if (!oldValue) {\n          return\n        }\n        this.block.top = this.calcSwitchedSizes(value, parentSize, oldValue)\n      },\n      deep: true\n    },\n\n    'block.sizeTypes.left': {\n      handler (value: SizeTypes, old: SizeTypes) {\n        if (value === old || !value) {\n          return\n        }\n        if (!this.$el.parentElement) {\n          return\n        }\n        let parentSize = this.$el.parentElement.offsetWidth\n        const oldValue = this.block.left\n        if (!oldValue) {\n          return\n        }\n        this.block.left = this.calcSwitchedSizes(value, parentSize, oldValue)\n      },\n      deep: true\n    },\n\n    'block.sizeTypes.right': {\n      handler (value: SizeTypes, old: SizeTypes) {\n        if (value === old || !value) {\n          return\n        }\n        if (!this.$el.parentElement) {\n          return\n        }\n        let parentSize = this.$el.parentElement.offsetWidth\n        const oldValue = this.block.right\n        if (!oldValue) {\n          return\n        }\n        this.block.right = this.calcSwitchedSizes(value, parentSize, oldValue)\n      },\n      deep: true\n    },\n\n    'block.sizeTypes.bottom': {\n      handler (value: SizeTypes, old: SizeTypes) {\n        if (value === old || !value) {\n          return\n        }\n        if (!this.$el.parentElement) {\n          return\n        }\n        let parentSize = this.$el.parentElement.offsetHeight\n        const oldValue = this.block.bottom\n        if (!oldValue) {\n          return\n        }\n        this.block.bottom = this.calcSwitchedSizes(value, parentSize, oldValue)\n      },\n      deep: true\n    },\n\n    'block.width': {\n      handler () {\n        if (this.isTabsContainer) {\n          this.setIsShowArrows()\n        }\n      }\n    },\n\n    tabGuids (value, oldValue) {\n      if (value.length < oldValue.length) {\n        let removedTab = oldValue.filter((item: string) => !value.includes(item))[0]\n        if (removedTab) {\n          this.block.children\n            .forEach((item) => {\n              if (item.parentTabGuid === removedTab) {\n                this.getStore().remove(item.guid)\n              }\n            })\n        }\n      }\n    }\n  },\n\n  mounted () {\n    if (this.block?.tabs?.use && this.block?.tabs?.list?.length > 0) {\n      this.onTabClick(this.block.tabs.list[0].guid)\n    }\n    this.getStore().addRef(this.block.guid, this)\n    this.$nextTick(() => {\n      this.onDrag()\n      if (this.isTabsContainer) {\n        this.setIsShowArrows()\n      }\n      this.setSticky(this.block?.stickyTo?.guid)\n    })\n  },\n\n  beforeDestroy () {\n    this.getStore().removeRef(this.block.guid)\n  },\n\n  methods: {\n    showChildTabs (guid: string) {\n      if (this.block.tabs) {\n        this.visibleTabs.forEach(tab => {\n          if (tab.guid === guid) {\n            tab.data.isExpanded = !tab.data.isExpanded\n          }\n          if (tab.data.parentTabForTree === guid) {\n            tab.data.isShow = !tab.data.isShow\n          }\n        })\n      }\n    },\n    setSticky (guid?: string) {\n      if (guid) {\n        this.stickyToBlock = this.getStore().getByGuid(guid)\n        this.stickyToElement = this.getStore().getRefByGuid(guid) as unknown as {\n          positionStyle: {\n            top: string, height: string, left: string, width: string\n          }\n        }\n      } else {\n        this.stickyToBlock = undefined\n        this.stickyToElement = undefined\n      }\n    },\n    setIsShowArrows (): void {\n      if (!this.$refs.draggableContainer) return\n      const tabsScroll: HTMLElement = this.$refs.tabsScroll as HTMLElement\n      const draggableContainer: HTMLElement = this.$refs.draggableContainer as HTMLElement\n      const tabsWidth = tabsScroll.offsetWidth\n      this.tabsWidth = tabsScroll.offsetWidth\n      const blockWidth = draggableContainer.offsetWidth\n      this.blockWidth = draggableContainer.offsetWidth\n\n      if (tabsWidth > blockWidth && (this.block.tabs?.position !== 'left' && this.block.tabs?.position !== 'right')) {\n        this.isShowArrows = true\n      } else {\n        this.isShowArrows = false\n        tabsScroll.style.transform = `translateX(-${0}px)`\n      }\n    },\n\n    calcSwitchedSizes (type: SizeTypes, parentSize: number, oldValue: number): number {\n      if (type === SizeTypes.PIXEL) {\n        return Math.round(parentSize / 100 * oldValue)\n      } else {\n        return Math.round(oldValue / (parentSize / 100))\n      }\n    },\n\n    getBlockTabStyle (tab: any): string {\n      let style = ';'\n\n      if (this.block.tabs) {\n        if (tab.guid === this.activeTabGuid) {\n          const newStyle = this.block.tabs.activeTabStyle\n          if (newStyle) {\n            style += '; ' + this.block.tabs.activeTabStyle\n          }\n        }\n      }\n\n      if (this.tabSettingsService) {\n        if (this.tabSettingsService.getIsStyled(tab.guid)) {\n          const newStyle = this.tabSettingsService.getStyle(tab.guid)\n          if (newStyle) {\n            style += '; ' + newStyle\n          }\n        }\n\n        if (this.tabSettingsService.getIsHidden(tab.guid)) {\n          style += '; color: #f46666; cursor: not-allowed; '\n        }\n\n        if (this.tabSettingsService.getIsBlocked(tab.guid)) {\n          style += '; color: gray; cursor: not-allowed; '\n        }\n      }\n\n      return style\n    },\n\n    onTabClick (guid: string) {\n      if (this.tabSettingsService && this.tabSettingsService.getIsBlocked(guid)) {\n        return\n      }\n\n      this.activeTabGuid = guid\n    },\n\n    onDrag (): void {\n      //     this.$refs.draggableContainer undefined\n      if (!this.$refs.draggableContainer) return\n      const el: HTMLElement = this.$refs.draggableContainer as HTMLElement\n      this.currentPosition.left = el.offsetLeft\n      this.currentPosition.top = el.offsetTop\n      if (el.parentElement) {\n        this.currentPosition.bottom = el.parentElement?.offsetHeight - el.offsetTop - el.offsetHeight\n        this.currentPosition.right = el.parentElement?.offsetWidth - el.offsetLeft - el.offsetWidth\n      }\n      /* if (this.block.stickyTo?.guid) {\n        this.currentPosition.top =\n      } */\n    },\n\n    getBlockManager (): BlockManager {\n      if (typeof this.blockManager === 'undefined') {\n        this.blockManager = new BlockManager(\n          this.block,\n          this.getStore(),\n            this.$refs.draggableContainer as Element,\n            this.step\n        )\n      }\n      return this.blockManager\n    },\n\n    resizeStart (event: MouseEvent): void {\n      event.preventDefault()\n      this.$emit('start-drag', this.block)\n      this.getBlockManager().startDrag(event, 'resize')\n      this.isResizing = true\n      document.addEventListener('mousemove', this.elementDrag)\n      document.addEventListener('mouseup', this.dragStop)\n    },\n\n    dragStart (event: MouseEvent, isInteractive: boolean = false): void {\n      if (this.block.isEditing) {\n        return\n      }\n      event.preventDefault()\n      this.$emit('start-drag', this.block)\n      this.getBlockManager().startDrag(event, 'drag', isInteractive)\n      this.isDragging = true\n      document.addEventListener('mousemove', this.elementDrag)\n      document.addEventListener('mouseup', this.dragStop)\n      document.addEventListener('keydown', this.keyDown)\n      document.addEventListener('keyup', this.keyUp)\n    },\n\n    elementDrag (event: MouseEvent): void {\n      event.preventDefault()\n      this.$emit('dragging', this.block)\n      /* if (this.ctrlPressed) {\n        if (this.block.parentGuid) {\n          this.getBlockManager().changeParent()\n        }\n      } */\n      this.getBlockManager().change(event)\n      if (this.isDragging) {\n        this.$nextTick(() => {\n          this.onDrag()\n        })\n      }\n    },\n\n    keyDown (event: KeyboardEvent) {\n      if (event.ctrlKey) {\n        this.ctrlPressed = true\n      }\n    },\n\n    keyUp (event: KeyboardEvent) {\n      if (event.key === 'Control') {\n        this.ctrlPressed = false\n      }\n    },\n\n    dragStop (): void {\n      this.$emit('stop-drag', this.block)\n      this.isResizing = false\n      this.isDragging = false\n      this.ctrlPressed = false\n      document.removeEventListener('mousemove', this.elementDrag)\n      document.removeEventListener('mouseup', this.dragStop)\n      document.removeEventListener('keydown', this.keyDown)\n      document.removeEventListener('keyup', this.keyUp)\n    },\n\n    getNextTab (): string {\n      const findTabIndex: number | undefined = this.availableTabs.findIndex((item: any) => item.guid === this.activeTabGuid)\n      if (typeof findTabIndex === 'number' && this.availableTabs[findTabIndex + 1]) {\n        return (this.availableTabs[findTabIndex + 1] as any).guid\n      }\n      return ''\n    },\n\n    getPrevTab (): string {\n      const findTabIndex: number | undefined = this.availableTabs.findIndex((item: any) => item.guid === this.activeTabGuid)\n      if (typeof findTabIndex === 'number' && this.availableTabs[findTabIndex - 1]) {\n        return (this.availableTabs[findTabIndex - 1] as any).guid\n      }\n      return ''\n    },\n\n    scrollPrevTab (): void {\n      const tabsScroll: HTMLElement = this.$refs.tabsScroll as HTMLElement\n      const draggableContainer: HTMLElement = this.$refs.draggableContainer as HTMLElement\n      const blockWidth = draggableContainer.offsetWidth\n      this.blockWidth = draggableContainer.offsetWidth\n      this.tabsOffset -= blockWidth / 2\n      if (this.tabsOffset < 0) {\n        this.tabsOffset = 0\n        // return\n      }\n      tabsScroll.style.transform = `translateX(-${this.tabsOffset}px)`\n    },\n\n    scrollNextTab (): void {\n      const tabsScroll: HTMLElement = this.$refs.tabsScroll as HTMLElement\n      const draggableContainer: HTMLElement = this.$refs.draggableContainer as HTMLElement\n      const tabsWidth = tabsScroll.offsetWidth\n      const blockWidth = draggableContainer.offsetWidth\n      this.blockWidth = draggableContainer.offsetWidth\n      if ((tabsWidth - blockWidth) < this.tabsOffset) return\n      this.tabsOffset += blockWidth / 1.5\n      tabsScroll.style.transform = `translateX(-${this.tabsOffset}px)`\n    }\n  }\n})\n","export enum AddBlockType {\n  DEFAULT, INTERACTIVE\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Block.vue?vue&type=template&id=2a65eaf7&scoped=true&\"\nimport script from \"./Block.vue?vue&type=script&lang=ts&\"\nexport * from \"./Block.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Block.vue?vue&type=style&index=0&id=2a65eaf7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a65eaf7\",\n  null\n  \n)\n\nexport default component.exports","export enum EventTypes {\n  ADD_BLOCK = 'addBlock',\n  REMOVE_BLOCK = 'removeBlock'\n}\n","export default class GuidGenerator {\n  public static generate (): string {\n    let d = new Date().getTime()\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n      d += performance.now()\n    }\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      let r = (d + Math.random() * 16) % 16 | 0\n      d = Math.floor(d / 16)\n      return (c === 'x' ? r : (r & 0x3) | 0x8).toString(16)\n    })\n  }\n}\n","import { BlockRepositoryInterface } from '@/domain/repository/BlockRepositoryInterface'\nimport BlockDTO from '@/domain/model/BlockDTO'\nimport GuidGenerator from '@/infrastructure/service/GuidGenerator'\nimport { BlockProperties } from '@/domain/model/BlockProperties'\nimport { StickyToType } from '@/domain/model/StickyTo'\nimport { Sticky } from '@/domain/model/Sticky'\nimport { ListenerInterface } from '@/domain/service/ListenerInterface'\nimport { EventTypes } from '@/domain/model/EventTypes'\n\nexport default class BlockRepository implements BlockRepositoryInterface {\n  private blocks: BlockDTO[] = []\n  private previousRequiredBlocks: string[] = []\n  private listeners: {\n    [index: string]: ListenerInterface\n  } = {}\n  private refs: {\n    guid: string,\n    element: Vue\n  }[] = []\n  private readonly isPreviewMode: boolean\n\n  constructor (blocks: BlockDTO[] = [], isPreviewMode: boolean = false) {\n    this.blocks = blocks\n    this.isPreviewMode = isPreviewMode\n  }\n\n  set (blocks: BlockProperties[]): void {\n    this.resetActiveBlock()\n    this.blocks = this.prepareBlocks(blocks)\n  }\n\n  prepareBlocks (blocks: BlockProperties[]): BlockDTO[] {\n    return blocks.map((block) => {\n      let children: BlockDTO[] = []\n      if (typeof block.children !== 'undefined' && block.children.length > 0) {\n        children = this.prepareBlocks(block.children)\n      }\n\n      let replicationFunction\n      if (block.replication?.function) {\n        replicationFunction = block.replication?.function\n      }\n      block = JSON.parse(JSON.stringify(block))\n      block.isHidden = false\n      if (replicationFunction && block.replication) {\n        block.replication.function = replicationFunction\n      }\n      block.children = children\n\n      return new BlockDTO(block)\n    })\n  }\n\n  change (guid: string, property: string, value: any): void {\n    const blockModel = this.getByGuid(guid)\n    if (typeof blockModel !== 'undefined') {\n      blockModel[property] = value\n    }\n  }\n\n  getByGuid (guid: string): BlockDTO | undefined {\n    let answer: BlockDTO | undefined\n    JSON.stringify(this.blocks, (_, nestedValue) => {\n      if (nestedValue && nestedValue.guid === guid &&\n        typeof nestedValue.sticky !== 'undefined') {\n        answer = nestedValue\n      }\n      return nestedValue\n    })\n\n    return answer\n  }\n\n  getByTabGuid (tabGuid: string): BlockDTO[] {\n    let answer: BlockDTO[] = []\n\n    JSON.stringify(this.blocks, (_, nestedValue) => {\n      if (nestedValue && nestedValue.parentTabGuid === tabGuid &&\n          typeof nestedValue.sticky !== 'undefined') {\n        !answer.includes(nestedValue.guid) && answer.push(nestedValue.guid)\n      }\n      return nestedValue\n    })\n\n    return answer\n  }\n\n  getByAlias (alias: string): BlockDTO | undefined {\n    let answer: BlockDTO | undefined\n    JSON.stringify(this.blocks, (_, nestedValue) => {\n      if (nestedValue && nestedValue.alias === alias &&\n        typeof nestedValue.sticky !== 'undefined') {\n        answer = nestedValue\n      }\n      return nestedValue\n    })\n\n    return answer\n  }\n\n  getMainParents (guid: string): BlockDTO | {} {\n    let block!: BlockDTO | {}\n    let blocks: BlockDTO[] | []\n    blocks = this.get()\n    for (let i = 0; i < blocks.length; i++) {\n      if (JSON.stringify(blocks[i]).includes(guid)) {\n        block = blocks[i]\n        break\n      }\n    }\n\n    return block\n  }\n\n  add (block: BlockProperties): string {\n    const oldGuid = block.guid\n    block.guid = GuidGenerator.generate()\n    let parent: undefined | BlockDTO\n    let children = block.children\n    block.children = []\n    if (block.parentGuid) {\n      parent = this.getByGuid(block.parentGuid)\n      if (typeof parent !== 'undefined') {\n        if (parent.tabs?.use && parent.tabs?.activeGuid && !this.isPreviewMode) {\n          block.parentTabGuid = parent.tabs.activeGuid\n        }\n        parent.children.push(new BlockDTO(block))\n      }\n    } else {\n      this.blocks.push(new BlockDTO(block))\n    }\n\n    this.emitEvent(EventTypes.ADD_BLOCK, {\n      oldGuid: oldGuid,\n      guid: block.guid\n    })\n\n    if (children && children.length > 0) {\n      this.addChildren(children, block.guid)\n    }\n\n    return block.guid\n  }\n\n  private addChildren (blocks: BlockProperties[], parentGuid: string) {\n    const blocksMapper: { [index: string]: string } = {}\n    const stickyMapper: { [index: string]: string } = {}\n    blocks.forEach((item) => {\n      const oldGuid = item.guid\n      const newGuid = this.add(Object.assign(item, { parentGuid }))\n      if (oldGuid) {\n        blocksMapper[oldGuid] = newGuid\n        if (item.stickyTo?.guid) {\n          stickyMapper[oldGuid] = item.stickyTo.guid\n        }\n      }\n    })\n\n    Object.keys(stickyMapper).forEach((key) => {\n      const block = this.getByGuid(blocksMapper[key])\n      if (block) {\n        const newStickyBlockGuid = blocksMapper[stickyMapper[key]]\n        if (newStickyBlockGuid) {\n          if (block.stickyTo) {\n            block.stickyTo.guid = newStickyBlockGuid\n          }\n        }\n      }\n    })\n  }\n\n  private setRequiredTab (guid: string, toClear = false): string[] {\n    const block = this.getByGuid(guid)\n    let answer: string[] = []\n\n    if (block?.parentTabGuid) {\n      if (block?.parentGuid) {\n        const parentBlock = this.getByGuid(block?.parentGuid)\n        if (parentBlock?.tabs && !parentBlock?.tabs?.requiredTabs) {\n          parentBlock.tabs.requiredTabs = []\n        }\n        if (parentBlock?.tabs?.requiredTabs) {\n          if (toClear) {\n            const index = parentBlock.tabs.requiredTabs.indexOf(block.parentTabGuid)\n            if (index > -1) {\n              parentBlock.tabs.requiredTabs.splice(index, 1)\n            }\n          } else {\n            parentBlock.tabs.requiredTabs.push(block.parentTabGuid)\n          }\n        }\n      }\n    }\n    if (block?.parentGuid) {\n      this.setRequiredTab(block.parentGuid, toClear)\n    }\n\n    return answer\n  }\n\n  setRequiredTabs (blocks: string[]): void {\n    this.previousRequiredBlocks.forEach((item) => this.setRequiredTab(item, true))\n    blocks.forEach((item) => this.setRequiredTab(item))\n    this.previousRequiredBlocks = blocks\n  }\n\n  get (): BlockDTO[] {\n    return this.blocks\n  }\n\n  getFlat (): (BlockDTO | undefined)[] {\n    return this.refs.map(ref => this.getByGuid(ref.guid))\n  }\n\n  remove (guid: string): void {\n    const block = this.getByGuid(guid)\n    if (!block) {\n      return\n    }\n    if (block.children?.length) {\n      block.children.forEach((item) => this.remove(item.guid))\n    }\n    if (block.parentGuid) {\n      const parent = this.getByGuid(block.parentGuid)\n      if (!parent) {\n        return\n      }\n      parent.children = parent.children.filter((item) => item.guid !== guid)\n    } else {\n      this.blocks = this.blocks.filter((item) => item.guid !== guid)\n    }\n    this.emitEvent(EventTypes.REMOVE_BLOCK, {\n      guid: guid\n    })\n  }\n\n  resetActiveBlock (): void {\n    JSON.stringify(this.blocks, (_, nestedValue) => {\n      if (nestedValue && typeof nestedValue.isActive !== 'undefined') {\n        nestedValue.isActive = false\n        nestedValue.isActiveAsParent = false\n      }\n      return nestedValue\n    })\n  }\n\n  setActiveBlock (guid: string): void {\n    this.resetActiveBlock()\n    const block = this.getByGuid(guid)\n    if (typeof block === 'undefined') {\n      return\n    }\n\n    block.isActive = true\n    if (block.parentGuid) {\n      const parent = this.getByGuid(block.parentGuid)\n      if (typeof parent !== 'undefined') {\n        parent.isActiveAsParent = true\n      }\n    }\n  }\n\n  setActiveTab (blockGuid: string, guid: string): void {\n    const block = this.getByGuid(blockGuid)\n    if (typeof block === 'undefined') {\n      return\n    }\n    if (block.tabs && block.tabs.use) {\n      block.tabs.activeGuid = guid\n    }\n  }\n\n  addRef (guid: string, ref: Vue): void {\n    this.refs.push({\n      guid: guid,\n      element: ref\n    })\n  }\n\n  getRefByGuid (guid: string): Vue | undefined {\n    const element = this.refs.find((item) => {\n      return item.guid === guid\n    })\n\n    if (element) {\n      return element.element\n    }\n\n    return undefined\n  }\n\n  removeRef (guid: string): void {\n    this.refs = this.refs.filter((item) => item.guid !== guid)\n  }\n\n  getStickyLines (guid?: string): {\n    x1: string, y1: string, x2: string, y2: string\n  }[] {\n    let blocks = guid ? this.getByGuid(guid)?.children : this.blocks\n    if (!blocks) {\n      return []\n    }\n    let answer: {\n      x1: string, y1: string, x2: string, y2: string\n    }[] = []\n    blocks.filter((item) => item.stickyTo?.guid !== 'undefined').forEach((item) => {\n      if (!item.stickyTo?.guid || item.sticky !== Sticky.TL) {\n        return false\n      }\n      let stickyElm = this.getRefByGuid(item.stickyTo.guid) as unknown as {\n        positionStyle: {\n          top: string, height: string, left: string, width: string\n        }\n      }\n      let elm = this.getRefByGuid(item.guid) as unknown as {\n        positionStyle: {\n          top: string, height: string, left: string, width: string\n        }\n      }\n      if (!elm || !stickyElm) {\n        return false\n      }\n      if (item.stickyTo.type === StickyToType.TOP) {\n        answer.push({\n          x1: `calc(${elm.positionStyle.left} + calc(${elm.positionStyle.width} / 2))`,\n          y1: elm.positionStyle.top,\n          x2: `calc(${stickyElm.positionStyle.left} + calc(${stickyElm.positionStyle.width} / 2))`,\n          y2: `calc(${stickyElm.positionStyle.top} + ${stickyElm.positionStyle.height})`\n        })\n      } else if (item.stickyTo.type === StickyToType.LEFT) {\n        answer.push({\n          x1: elm.positionStyle.left,\n          y1: `calc(${elm.positionStyle.top} + calc(${elm.positionStyle.height} / 2))`,\n          x2: `calc(${stickyElm.positionStyle.left} + ${stickyElm.positionStyle.width})`,\n          y2: `calc(${stickyElm.positionStyle.top} + calc(${stickyElm.positionStyle.height} / 2))`\n        })\n      }\n    })\n\n    return answer\n  }\n\n  addListener (listener: ListenerInterface): string {\n    const guid = GuidGenerator.generate()\n    this.listeners[guid] = listener\n    return guid\n  }\n\n  removeListener (guid: string): void {\n    delete this.listeners[guid]\n  }\n\n  private emitEvent (type: EventTypes, event: {}): void {\n    Object.values(this.listeners).forEach((listener: ListenerInterface) => {\n      if (listener.isSubscribed(type)) {\n        listener.handle(event)\n      }\n    })\n  }\n}\n","import { ListenerInterface } from '@/domain/service/ListenerInterface'\nimport { EventTypes } from '@/domain/model/EventTypes'\n\nexport default class SimpleRemoveListener implements ListenerInterface {\n  private readonly handler: Function\n\n  constructor (handler: Function) {\n    this.handler = handler\n  }\n\n  handle (event: object): void {\n    this.handler(event)\n  }\n\n  isSubscribed (eventType: EventTypes): boolean {\n    return eventType === EventTypes.REMOVE_BLOCK\n  }\n}\n","import { TabSettingsType } from '@/domain/model/TabSettingsType'\nimport { TabSettingType } from '@/domain/model/TabSettingType'\n\nexport default class TabSettings {\n  tabSettings: TabSettingsType\n  context: Vue\n\n  constructor (tabSettings: TabSettingsType, context: Vue) {\n    this.tabSettings = tabSettings\n    this.context = context\n  }\n\n  createTabSetting (tabGuid: string): TabSettingType {\n    const tabSetting: TabSettingType = {\n      isHidden: false,\n      isBlocked: false,\n      isStyled: true,\n      isDefaultTab: false,\n      isExpanded: false,\n      parentTabForTree: '',\n      style: '',\n      interactive: {}\n    }\n\n    this.context.$set(this.tabSettings, tabGuid, tabSetting)\n\n    return tabSetting\n  }\n\n  createTabSettings (tabGuids: Array<string>): void {\n    for (const tabGuid of tabGuids) {\n      if (!this.getTabSettingByGuid(tabGuid)) {\n        this.createTabSetting(tabGuid)\n      }\n    }\n  }\n\n  getTabSettingByGuid (tabGuid: string): TabSettingType | void {\n    if (!this.tabSettings) {\n      return\n    }\n\n    const tabSetting: TabSettingType = this.tabSettings[tabGuid]\n    if (!tabSetting) {\n      return\n    }\n\n    this.restoreTabSettingsStructure(tabSetting)\n\n    return tabSetting\n  }\n\n  restoreTabSettingsStructure (tabSetting: TabSettingType): void {\n    if (!tabSetting) {\n      return\n    }\n\n    if (!('isHidden' in tabSetting)) {\n      this.context.$set(tabSetting, 'isHidden', false)\n    }\n\n    if (!('isBlocked' in tabSetting)) {\n      this.context.$set(tabSetting, 'isBlocked', false)\n    }\n\n    if (!('isStyled' in tabSetting)) {\n      this.context.$set(tabSetting, 'isStyled', true)\n    }\n\n    if (!('isDefaultTab' in tabSetting)) {\n      this.context.$set(tabSetting, 'isDefaultTab', false)\n    }\n    if (!('isExpanded' in tabSetting)) {\n      this.context.$set(tabSetting, 'isExpanded', false)\n    }\n\n    if (!('parentTabForTree' in tabSetting)) {\n      this.context.$set(tabSetting, 'parentTabForTree', '')\n    }\n\n    if (!('hiddenConditions' in tabSetting)) {\n      this.context.$set(tabSetting, 'hiddenConditions', { type: 'never' })\n    }\n\n    if (!('blockedConditions' in tabSetting)) {\n      this.context.$set(tabSetting, 'blockedConditions', { type: 'never' })\n    }\n\n    if (!('styledConditions' in tabSetting)) {\n      this.context.$set(tabSetting, 'styledConditions', { type: 'always' })\n    }\n  }\n\n  deleteTabOnGuid (tabGuid: string): void {\n    if (this.tabSettings[tabGuid]) {\n      delete this.tabSettings[tabGuid]\n    } else {\n      console.warn(`  ${tabGuid}  `)\n    }\n  }\n\n  getHiddenConditions (tabGuid: string): object | void {\n    const tabSetting: TabSettingType | void = this.getTabSettingByGuid(tabGuid)\n    if (tabSetting) {\n      return tabSetting.hiddenConditions\n    }\n  }\n\n  setHiddenConditions (tabGuid: string, value: object): void {\n    const tabSetting = this.getTabSettingByGuid(tabGuid) || this.createTabSetting(tabGuid)\n\n    this.context.$set(tabSetting, 'hiddenConditions', value)\n  }\n\n  getBlockedConditions (tabGuid: string): object | void {\n    const tabSetting: TabSettingType | void = this.getTabSettingByGuid(tabGuid)\n    if (tabSetting) {\n      return tabSetting.blockedConditions\n    }\n  }\n\n  setInteractive (tabGuid: string, value: object): void {\n    const tabSetting = this.getTabSettingByGuid(tabGuid) || this.createTabSetting(tabGuid)\n\n    this.context.$set(tabSetting, 'interactive', value)\n  }\n\n  getInteractive (tabGuid: string): object | void {\n    const tabSetting: TabSettingType | void = this.getTabSettingByGuid(tabGuid)\n    if (tabSetting) {\n      return tabSetting.interactive\n    }\n  }\n\n  setBlockedConditions (tabGuid: string, value: object): void {\n    const tabSetting = this.getTabSettingByGuid(tabGuid) || this.createTabSetting(tabGuid)\n\n    this.context.$set(tabSetting, 'blockedConditions', value)\n  }\n\n  getStyledConditions (tabGuid: string): object | void {\n    const tabSetting: TabSettingType | void = this.getTabSettingByGuid(tabGuid)\n    if (tabSetting) {\n      return tabSetting.styledConditions\n    }\n  }\n\n  setStyledConditions (tabGuid: string, value: object): void {\n    const tabSetting = this.getTabSettingByGuid(tabGuid) || this.createTabSetting(tabGuid)\n\n    this.context.$set(tabSetting, 'styledConditions', value)\n  }\n\n  getIsHidden (tabGuid: string): boolean {\n    const tabSetting: TabSettingType | void = this.getTabSettingByGuid(tabGuid)\n    if (tabSetting && ('isHidden' in tabSetting)) {\n      return tabSetting.isHidden\n    }\n\n    return false\n  }\n\n  setIsHidden (tabGuid: string, value: boolean): void {\n    const tabSetting = this.getTabSettingByGuid(tabGuid) || this.createTabSetting(tabGuid)\n\n    this.context.$set(tabSetting, 'isHidden', value)\n  }\n\n  getIsBlocked (tabGuid: string): boolean {\n    const tabSetting: TabSettingType | void = this.getTabSettingByGuid(tabGuid)\n    if (tabSetting && ('isBlocked' in tabSetting)) {\n      return tabSetting.isBlocked\n    }\n\n    return false\n  }\n\n  setIsBlocked (tabGuid: string, value: boolean): void {\n    const tabSetting = this.getTabSettingByGuid(tabGuid) || this.createTabSetting(tabGuid)\n\n    this.context.$set(tabSetting, 'isBlocked', value)\n  }\n\n  getIsStyled (tabGuid: string): boolean {\n    const tabSetting: TabSettingType | void = this.getTabSettingByGuid(tabGuid)\n    if (tabSetting && ('isStyled' in tabSetting)) {\n      return tabSetting.isStyled\n    }\n\n    return false\n  }\n\n  setIsStyled (tabGuid: string, value: boolean): void {\n    const tabSetting = this.getTabSettingByGuid(tabGuid) || this.createTabSetting(tabGuid)\n\n    this.context.$set(tabSetting, 'isStyled', value)\n  }\n\n  getStyle (tabGuid: string): string | void {\n    const tabSetting: TabSettingType | void = this.getTabSettingByGuid(tabGuid)\n    if (tabSetting) {\n      return tabSetting.style\n    }\n  }\n\n  setStyle (tabGuid: string, value: string): void {\n    const tabSetting = this.getTabSettingByGuid(tabGuid) || this.createTabSetting(tabGuid)\n\n    this.context.$set(tabSetting, 'style', value)\n  }\n\n  getIsDefaultTab (tabGuid: string): boolean {\n    const tabSetting: TabSettingType | void = this.getTabSettingByGuid(tabGuid)\n    if (tabSetting && ('isDefaultTab' in tabSetting)) {\n      return tabSetting.isDefaultTab\n    }\n\n    return false\n  }\n\n  setIsDefaultTab (tabGuid: string, value: string): void {\n    const tabSetting = this.getTabSettingByGuid(tabGuid) || this.createTabSetting(tabGuid)\n\n    this.context.$set(tabSetting, 'isDefaultTab', value)\n  }\n  //  guid  \n  getParentTabForTree (tabGuid: string): string {\n    const tabSetting: TabSettingType | void = this.getTabSettingByGuid(tabGuid)\n    if (tabSetting && ('parentTabForTree' in tabSetting)) {\n      return tabSetting.parentTabForTree\n    }\n\n    return ''\n  }\n  //  guid  \n  setParentTabForTree (tabGuid: string, value: string): void {\n    const tabSetting = this.getTabSettingByGuid(tabGuid) || this.createTabSetting(tabGuid)\n\n    this.context.$set(tabSetting, 'parentTabForTree', value)\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Block from '@/infrastructure/components/Block.vue'\n// eslint-disable-next-line no-unused-vars\nimport Vue_, { VueConstructor } from 'vue'\nimport { Sticky } from '@/domain/model/Sticky'\nimport { SizeTypes } from '@/domain/model/SizeTypes'\nimport { AddBlockType } from '@/domain/model/AddBlockType'\n// eslint-disable-next-line no-unused-vars\nimport { BlockRepositoryInterface } from '@/domain/repository/BlockRepositoryInterface'\nimport BlockRepository from '@/infrastructure/domain/repository/BlockRepository'\n// eslint-disable-next-line no-unused-vars\nimport BlockDTO from '@/domain/model/BlockDTO'\n// eslint-disable-next-line no-unused-vars\nimport { DataSourceInjected } from '@/infrastructure/domain/model/DataSourceInjected'\n// eslint-disable-next-line no-unused-vars\nimport { BlockProperties } from '@/domain/model/BlockProperties'\n// eslint-disable-next-line no-unused-vars\nimport { TabProperties } from '@/domain/model/TabProperties'\n// eslint-disable-next-line no-unused-vars\nimport { StickyTo } from '@/domain/model/StickyTo'\n// eslint-disable-next-line no-unused-vars\nimport { ReplicationProperties } from '@/domain/model/ReplicationProperties'\n// eslint-disable-next-line no-unused-vars\nimport { MinMax } from '@/domain/model/MinMax'\n// eslint-disable-next-line no-unused-vars\nimport { OnCenter } from '@/domain/model/OnCenter'\nimport SimpleRemoveListener from '@/infrastructure/service/listeners/SimpleRemoveListener'\n\nimport TabSettings from '@/application/service/TabSettings'\n\nconst Vue = Vue_ as VueConstructor<Vue_ & DataSourceInjected>\n\nexport default Vue.extend({\n  name: 'VueDraggableResponsiveDesigner',\n  components: { Block },\n\n  provide () {\n    return {\n      getStore: this.getStore\n    }\n  },\n\n  props: {\n    step: {\n      type: Number,\n      default: 0.5\n    },\n    blocks: {\n      type: Array as Vue.PropType<object[]>,\n      default: () => []\n    },\n    showHidden: {\n      type: Boolean,\n      default: false\n    },\n    tabSettings: {\n      type: Object\n    }\n  },\n\n  data (): { blocksArray: object[], store: BlockRepositoryInterface, tabSettingsService: TabSettings } {\n    return {\n      store: new BlockRepository(),\n      blocksArray: this.blocks,\n      tabSettingsService: new TabSettings(this.tabSettings, this)\n    }\n  },\n\n  computed: {\n    _blocks (): BlockDTO[] {\n      return this.getStore().get()\n    },\n    stickyLines () {\n      return this.getStore().getStickyLines()\n    }\n  },\n\n  watch: {\n    tabSettings: {\n      handler () {\n        this.$set(this.tabSettingsService, 'tabSettings', this.tabSettings)\n      }\n    }\n  },\n\n  mounted () {\n    this.store.addListener(new SimpleRemoveListener(this.onBlockRemove))\n  },\n\n  methods: {\n    onBlockRemove (event: {guid: string}) {\n      this.$emit('block-remove', event.guid)\n    },\n    getAllBlockRefs (): { [index: string]: Vue; } {\n      let answer: { [index: string]: Vue; } = {}\n\n      this.getRefs(this._blocks, this, answer)\n      return answer\n    },\n    getRefs (blocks: BlockDTO[], context: Vue, object: { [index: string]: Vue; }): void {\n      blocks.forEach((item: BlockDTO) => {\n        const refs: any = context.$refs[item.guid]\n        const block: Vue = refs[0]\n        object[item.guid] = block\n        if (item.children?.length > 0 && block) {\n          this.getRefs(item.children, block, object)\n        }\n      })\n    },\n    setActiveBlock (guid: string): void {\n      this.store.setActiveBlock(guid)\n    },\n    clearActiveBlock (): void {\n      this.store.resetActiveBlock()\n    },\n    getStore (): BlockRepositoryInterface {\n      return this.store\n    },\n    getBlocks (): BlockDTO[] {\n      return this.store.get()\n    },\n    getMainParents (guid: string): BlockDTO | {} {\n      return this.store.getMainParents(guid)\n    },\n    setBlocks (blocks: BlockProperties[]): void {\n      this.store.set([])\n      this.$nextTick(() => {\n        this.store.set(blocks)\n      })\n    },\n    getMousePosition (event: MouseEvent, sizeTypes: {\n      width: SizeTypes,\n      height: SizeTypes,\n      top: SizeTypes,\n      right: SizeTypes,\n      bottom: SizeTypes,\n      left: SizeTypes\n    }): { top: number, right: number, bottom: number, left: number } {\n      const elPosition = this.$el.getBoundingClientRect()\n      const top = sizeTypes.top === SizeTypes.PIXEL ? event.clientY - elPosition.top : (event.clientY - elPosition.top) / (elPosition.height / 100) - 2\n      const left = sizeTypes.left === SizeTypes.PIXEL ? event.clientX - elPosition.left : (event.clientX - elPosition.left) / (elPosition.width / 100) - 2\n      const right = sizeTypes.left === SizeTypes.PIXEL ? elPosition.width - event.clientX + elPosition.left : 100 - (event.clientX / (elPosition.width / 100) + 2)\n      const bottom = sizeTypes.top === SizeTypes.PIXEL ? elPosition.height - event.clientY + elPosition.top : 100 - (event.clientY / (elPosition.height / 100) + 2)\n\n      return {\n        top: Math.floor(top),\n        right: Math.floor(right),\n        bottom: Math.floor(bottom),\n        left: Math.floor(left)\n      }\n    },\n    addBlock (\n      {\n        width = 0,\n        height = 0,\n        top = undefined,\n        right = undefined,\n        bottom = undefined,\n        left = undefined,\n        sticky = Sticky.TL,\n        stickyTo = undefined,\n        parentGuid = undefined,\n        sizeTypes = {\n          width: SizeTypes.PERCENT,\n          height: SizeTypes.PERCENT,\n          top: SizeTypes.PERCENT,\n          right: SizeTypes.PERCENT,\n          bottom: SizeTypes.PERCENT,\n          left: SizeTypes.PERCENT\n        },\n        className = undefined,\n        event = undefined,\n        type = AddBlockType.DEFAULT,\n        isStretched = false,\n        tabs = undefined,\n        replication = undefined,\n        pagination = undefined,\n        minMax = undefined,\n        onCenter = undefined,\n        alias = undefined\n      }: {\n          width: number,\n          height: number,\n          sticky: Sticky,\n          stickyTo?: StickyTo,\n          parentGuid?: string,\n          top?: number,\n          right?: number,\n          bottom?: number,\n          left?: number,\n          sizeTypes?: {\n            width: SizeTypes,\n            height: SizeTypes,\n            top: SizeTypes,\n            right: SizeTypes,\n            bottom: SizeTypes,\n            left: SizeTypes\n          },\n          className?: string,\n          event?: MouseEvent,\n          type: AddBlockType,\n          isStretched: boolean,\n          tabs?: TabProperties,\n          replication?: ReplicationProperties,\n          pagination?: {\n            replicationGuid: string,\n            total: number,\n            limit: number\n          }\n          minMax?: MinMax,\n          onCenter?: OnCenter,\n          alias?: string\n        }\n    ): string {\n      if (type === AddBlockType.INTERACTIVE && typeof event !== 'undefined') {\n        const position: { top: number, right: number, bottom: number, left: number } = this.getMousePosition(event, sizeTypes)\n        top = position.top\n        right = position.right\n        bottom = position.bottom\n        left = position.left\n      }\n\n      const guid = this.store.add({\n        width,\n        height,\n        top,\n        right,\n        bottom,\n        left,\n        sticky,\n        stickyTo,\n        parentGuid,\n        sizeTypes,\n        isStretched,\n        tabs,\n        className,\n        replication,\n        pagination,\n        minMax,\n        onCenter,\n        alias\n      })\n      if (type === AddBlockType.INTERACTIVE && typeof event !== 'undefined') {\n        this.$nextTick(() => {\n          const block: any = this.getAllBlockRefs()[guid]\n          block.onDrag()\n          block.dragStart(event, true)\n        })\n      }\n      return guid\n    },\n    removeBlock (guid: string): void {\n      this.store.remove(guid)\n    }\n  }\n})\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=683d5d5c&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=683d5d5c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"683d5d5c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},_vm._l((_vm._blocks),function(block){return _c('preview-block',{directives:[{name:\"show\",rawName:\"v-show\",value:(!block.isHidden),expression:\"!block.isHidden\"}],key:block.guid,ref:block.guid,refInFor:true,attrs:{\"block\":block,\"replication-callback\":_vm.replicationCallback,\"tab-settings-service\":_vm.tabSettingsService},on:{\"click\":function($event){return _vm.$emit('click', $event)},\"tab-click\":function($event){return _vm.$emit('tab-click', $event)}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(index,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar _obj, _obj$1;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"draggableContainer\",class:['block', _vm.block.className],style:(_vm.positionStyle)},[(_vm.isTabsContainer)?_c('div',{class:{\n      'tabs_container' : true,\n      'custom_scrollbar' : true,\n      'position_top': _vm.block.tabs.position === 'top',\n      'position_right': _vm.block.tabs.position === 'right',\n      'position_bottom': _vm.block.tabs.position === 'bottom',\n      'position_left': _vm.block.tabs.position === 'left',\n    },style:(_vm.block.tabs.containerStyle)},[_c('font-awesome-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowArrows),expression:\"isShowArrows\"}],staticClass:\"tabs_button\",class:( _obj = {}, _obj[_vm.block.tabs.tabArrowsClass] = true, _obj ),attrs:{\"icon\":\"chevron-left\"},on:{\"click\":_vm.scrollPrevTab}}),_c('div',{ref:\"tabsScroll\",staticClass:\"tabs_onScroll\",class:{ 'tabs_padding': _vm.isShowArrows, 'direction': _vm.directionTabs }},_vm._l((_vm.visibleTabs),function(tab){\n    var _obj;\nreturn _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowTabs(tab)),expression:\"isShowTabs(tab)\"}],key:tab.guid,class:( _obj = {\n          'tab': true,\n          'active': tab.guid === _vm.activeTabGuid\n        }, _obj[_vm.block.tabs.class] = true, _obj['required_tab'] =  _vm.block.tabs.requiredTabs && _vm.block.tabs.requiredTabs.includes(tab.guid), _obj['positionTab'] =  tab.data && tab.data.isChild, _obj ),style:(_vm.blockTabStyle + _vm.getBlockTabStyle(tab)),on:{\"click\":function($event){return _vm.onTabClick(tab.guid)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(tab.data && tab.data.isChild),expression:\"tab.data && tab.data.isChild\"}],on:{\"click\":function($event){return _vm.showChildTabs(tab.guid)}}},[_c('i',{staticClass:\"plus\",class:{'el-icon-arrow-right': !tab.data.isExpanded, 'el-icon-arrow-down': tab.data.isExpanded}})]),_c('span',{staticClass:\"label\"},[_vm._v(_vm._s(tab.name))])])}),0),_c('font-awesome-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowArrows),expression:\"isShowArrows\"}],staticClass:\"tabs_button tabs_button_next\",class:( _obj$1 = {}, _obj$1[_vm.block.tabs.tabArrowsClass] = true, _obj$1 ),attrs:{\"icon\":\"chevron-right\"},on:{\"click\":_vm.scrollNextTab}})],1):_vm._e(),_c('div',{ref:\"container\",staticClass:\"content custom_scrollbar\",class:{ 'scroll_hover': _vm.isActiveScrollHover },style:(_vm.blockContentStyle),on:{\"mouseover\":function($event){_vm.block.isHover = true},\"mouseleave\":function($event){_vm.block.isHover = false},\"click\":function($event){return _vm.$emit('click', { block: $event.block || _vm.block, event: $event.event || $event })}}},[(!_vm.isTabsContainer)?_vm._t(\"content\",null,{\"block\":_vm.block}):_vm._e(),_vm._l((_vm.children),function(_block){return _c('preview-block',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.isShowChildren && !_block.isHidden )),expression:\"(isShowChildren && !_block.isHidden )\"}],key:_block.guid,ref:_block.guid,refInFor:true,class:(_block.parentTabGuid === _vm.activeTabGuid) ? '' : 'visibility',attrs:{\"is-showing\":_vm.isShowChildren && _block.parentTabGuid === _vm.activeTabGuid && !_block.isHidden,\"block\":_block,\"replication-callback\":_vm.replicationCallback,\"tab-settings-service\":_vm.tabSettingsService},on:{\"click\":function($event){return _vm.$emit('click', { block: $event.block || _block, event: $event.event || $event })},\"tab-click\":function($event){return _vm.$emit('tab-click', $event)}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(index,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ListenerInterface } from '@/domain/service/ListenerInterface'\nimport { EventTypes } from '@/domain/model/EventTypes'\n\nexport default class SimpleAddListener implements ListenerInterface {\n  private readonly handler: Function\n\n  constructor (handler: Function) {\n    this.handler = handler\n  }\n\n  handle (event: object): void {\n    this.handler(event)\n  }\n\n  isSubscribed (eventType: EventTypes): boolean {\n    return eventType === EventTypes.ADD_BLOCK\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Sticky } from '@/domain/model/Sticky'\nimport BlockDTO from '../../domain/model/BlockDTO'\n// eslint-disable-next-line no-unused-vars\nimport { Position } from '@/domain/model/PositionCss'\nimport ResizeObserver from 'resize-observer-polyfill'\n// eslint-disable-next-line no-unused-vars\nimport Vue_, { VueConstructor } from 'vue'\nimport { SizeTypes } from '@/domain/model/SizeTypes'\nimport BlockManager from '@/application/service/BlockManager'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nimport { faAngleDown, faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons'\nimport { library } from '@fortawesome/fontawesome-svg-core'\n// eslint-disable-next-line no-unused-vars\nimport { DataSourceInjected } from '@/infrastructure/domain/model/DataSourceInjected'\nimport { StickyToType } from '@/domain/model/StickyTo'\nimport SimpleAddListener from '@/infrastructure/service/listeners/SimpleAddListener'\n\nconst Vue = Vue_ as VueConstructor<Vue_ & DataSourceInjected>\nlibrary.add(faAngleDown, faChevronRight, faChevronLeft)\nexport default Vue.extend({\n  name: 'PreviewBlock',\n\n  components: {\n    FontAwesomeIcon\n  },\n\n  inject: {\n    getStore: {\n      default: () => () => {}\n    }\n  },\n\n  props: {\n    block: {\n      type: BlockDTO\n    },\n    replicationCallback: Function,\n    isShowing: {\n      type: Boolean,\n      default: true\n    },\n    tabSettingsService: {\n      type: Object\n    }\n  },\n\n  data (): {\n    parentBlock?: BlockDTO,\n    parentElement?: Element,\n    scrollHeight?: number,\n    scrollWidth?: number,\n    activeTabGuid?: string,\n    replicationIndex: number,\n    tabsOffset: number,\n    blockWidth: number,\n    tabsWidth: number,\n    isShowArrows: boolean,\n    visitedTabGuids: string[],\n    stickyToBlock?: BlockDTO,\n    stickyToElement?: any\n    } {\n    return {\n      parentBlock: undefined,\n      parentElement: undefined,\n      scrollHeight: undefined,\n      scrollWidth: undefined,\n      activeTabGuid: undefined,\n      replicationIndex: 0,\n      tabsOffset: 0,\n      blockWidth: 0,\n      tabsWidth: 0,\n      isShowArrows: false,\n      visitedTabGuids: [],\n      stickyToBlock: undefined,\n      stickyToElement: undefined\n    }\n  },\n\n  computed: {\n    //    \n    children (): object[] {\n      if (this.block?.tabs?.use) {\n        return this.block.children.filter(item => item.parentTabGuid && this.visitedTabGuids.includes(item.parentTabGuid))\n      } else {\n        return this.block.children\n      }\n    },\n\n    availableTabs (): { guid: string, name: string }[] {\n      if (!this.block?.tabs?.use || this.block?.tabs?.list?.length < 1) {\n        return []\n      }\n\n      return this.block.tabs.list.filter(tab => {\n        if (this.tabSettingsService) {\n          const isHidden = this.tabSettingsService.getIsHidden(tab.guid)\n          const isBlocked = this.tabSettingsService.getIsBlocked(tab.guid)\n\n          if (isHidden || isBlocked) {\n            return false\n          }\n        }\n\n        return true\n      })\n    },\n\n    visibleTabs (): { guid: string, name: string, data: any }[] {\n      if (!this.block?.tabs?.use || this.block?.tabs?.list?.length < 1) {\n        return []\n      }\n      let tabs = this.tabSettingsService.tabSettings || {}\n\n      if (this.tabSettingsService) {\n        const parentKeys: { [key: string]: boolean } = {}\n\n        //  parentKeys ,   parentTabForTree\n        for (const key in tabs) {\n          if (Object.prototype.hasOwnProperty.call(tabs, key)) {\n            const parentKey = tabs[key].parentTabForTree\n            if (parentKey) {\n              parentKeys[parentKey] = true\n            }\n          }\n        }\n        for (const guid in tabs) {\n          if (Object.prototype.hasOwnProperty.call(tabs, guid)) {\n            //  svg  \n            tabs[guid].isExpanded = false\n            //       -    \n            if (!tabs[guid].parentTabForTree && parentKeys[guid]) {\n              tabs[guid].isShow = true\n            }\n            //  ,   -     \n            if (tabs[guid].parentTabForTree) {\n              tabs[guid].isShow = false\n            }\n            //   -  \n            if (parentKeys[guid]) {\n              tabs[guid].isChild = true\n            } else {\n              tabs[guid].isChild = false\n            }\n          }\n        }\n\n        const defaultData = { isChild: false, isExpanded: false, isShow: false, parentTabForTree: '' }\n        let result = this.block.tabs.list.filter(tab => {\n          const isHidden = this.tabSettingsService.getIsHidden(tab.guid)\n\n          if (isHidden) {\n            return false\n          }\n\n          return true\n        }).map(tab => {\n          return {\n            guid: tab.guid,\n            name: tab.name,\n            data: tabs[tab.guid] || defaultData\n          }\n        })\n        return result\n      }\n      return []\n    },\n\n    directionTabs (): boolean {\n      return (this.block.tabs?.position === 'left' || this.block.tabs?.position === 'right')\n    },\n\n    zIndex (): number {\n      const startIndex = 101\n      if (!this.block.parentGuid) {\n        return startIndex + (this.block.tabs?.use ? 1 : 0)\n      }\n      let parentRef = this.getStore().getRefByGuid(this.block.parentGuid) as unknown as {\n        zIndex: number\n      }\n      if (!parentRef) {\n        return startIndex\n      }\n\n      return parentRef.zIndex + 1 + (this.block.tabs?.use ? 1 : 0)\n    },\n\n    isTabsContainer (): boolean {\n      return this.block.tabs?.use || false\n    },\n\n    positionStyle (): object {\n      let position: Position = {}\n      let top: string\n      let left: string\n      let height: string = this.block.height + this.block.sizeTypes.height\n      let width: string = this.block.width + this.block.sizeTypes.width\n\n      switch (this.block.sticky) {\n        case Sticky.TL:\n          top = this.block.top + this.block.sizeTypes.top\n          left = this.block.left + this.block.sizeTypes.left\n          if (this.block.parentGuid) {\n            if (typeof this.parentBlock !== 'undefined') {\n              if (this.parentBlock.isStretched && this.isTabsContainer) {\n                //  this.isTabsContainer === false\n                //   \"\"    ,       (width = 0px)\n                const parentSizes = BlockManager.getAbsoluteSizesByParent(this.parentBlock, this.parentElement as Element)\n                if (this.block.sizeTypes.top === SizeTypes.PERCENT) {\n                  top = `${parentSizes.height / 100 * (this.block.top || 0)}px`\n                  height = `${parentSizes.height / 100 * this.block.height}px`\n                }\n                if (this.block.sizeTypes.left === SizeTypes.PERCENT) {\n                  left = `${parentSizes.width / 100 * (this.block.left || 0)}px`\n                  width = `${parentSizes.width / 100 * this.block.width}px`\n                }\n              }\n            }\n          }\n          position = {\n            top: top,\n            left: left\n          }\n          break\n        case Sticky.TR:\n          position = {\n            top: this.block.top + this.block.sizeTypes.top,\n            right: this.block.right + this.block.sizeTypes.right\n          }\n          break\n        case Sticky.BL:\n          position = {\n            bottom: this.block.bottom + this.block.sizeTypes.bottom,\n            left: this.block.left + this.block.sizeTypes.left\n          }\n          break\n        case Sticky.BR:\n          position = {\n            bottom: this.block.bottom + this.block.sizeTypes.bottom,\n            right: this.block.right + this.block.sizeTypes.right\n          }\n          break\n        default:\n          position = {\n            top: this.block.top + this.block.sizeTypes.top,\n            left: this.block.left + this.block.sizeTypes.left\n          }\n          break\n      }\n\n      if (this.block.isHidden) {\n        if (this.block.stickyTo?.guid && this.block.stickyTo?.type) {\n          if (this.block.stickyTo.type === StickyToType.TOP) {\n            position.top = '0px'\n          } else if (this.block.stickyTo.type === StickyToType.LEFT) {\n            position.left = '0px'\n          }\n        }\n      }\n\n      if (this.block.replication?.topBlockGuid) {\n        const stickyToElement = this.getStore().getRefByGuid(this.block.replication?.topBlockGuid) as unknown as {\n          positionStyle: {\n            top: string, height: string\n          }\n        }\n        if (stickyToElement) {\n          position.top =\n              `calc(${stickyToElement.positionStyle.height} + ${stickyToElement.positionStyle.top} + ${this.block.replication?.verticalMargin})`\n        }\n      }\n      if (this.block.stickyTo?.guid && this.block.stickyTo?.type && this.stickyToBlock?.guid) {\n        const stickyToBlock = this.stickyToBlock\n        const stickyToElement = this.stickyToElement\n        if (stickyToBlock && stickyToBlock.parentGuid === this.block.parentGuid && stickyToElement) {\n          switch (this.block.stickyTo.type) {\n            case StickyToType.TOP:\n              position.top =\n                  `calc(${stickyToElement.positionStyle.height} + ${stickyToElement.positionStyle.top} + ${position.top})`\n              break\n            case StickyToType.LEFT:\n              position.left =\n                  `calc(${stickyToElement.positionStyle.width} + ${stickyToElement.positionStyle.left} + ${position.left})`\n              break\n          }\n        }\n      }\n\n      if (this.block.widthCalc && this.block.widthCalc.type && this.block.widthCalc.value) {\n        width = `calc(${width} ${this.block.widthCalc.type} ${this.block.widthCalc.value}px)`\n      }\n      if (this.block.heightCalc && this.block.heightCalc.type && this.block.heightCalc.value) {\n        height = `calc(${height} ${this.block.heightCalc.type} ${this.block.heightCalc.value}px)`\n      }\n\n      if (this.block.isStretched) {\n        position = Object.assign(position, {\n          minWidth: width,\n          minHeight: height,\n          height: this.scrollHeight + 'px',\n          width: this.scrollWidth + 'px'\n        })\n      } else {\n        if (this.block.minMax?.minWidth && this.block.sizeTypes.width === SizeTypes.PERCENT) {\n          position = Object.assign(position, {\n            minWidth: `${this.block.minMax.minWidth}px`\n          })\n        }\n        if (this.block.minMax?.maxWidth && this.block.sizeTypes.width === SizeTypes.PERCENT) {\n          position = Object.assign(position, {\n            maxWidth: `${this.block.minMax.maxWidth}px`\n          })\n        }\n        if (this.block.minMax?.minHeight && this.block.sizeTypes.height === SizeTypes.PERCENT) {\n          position = Object.assign(position, {\n            minHeight: `${this.block.minMax.minHeight}px`\n          })\n        }\n        if (this.block.minMax?.maxHeight && this.block.sizeTypes.height === SizeTypes.PERCENT) {\n          position = Object.assign(position, {\n            maxHeight: `${this.block.minMax.maxHeight}px`\n          })\n        }\n        position = Object.assign(position, {\n          width: width,\n          height: height\n        })\n      }\n\n      if (this.block.isHidden) {\n        position.width = '0px'\n        position.height = '0px'\n      }\n\n      if (!this.block.stickyTo?.guid && this.block.onCenter?.horizontal && this.isShowing) {\n        const refBlock = this.getStore().getRefByGuid(this.block.guid) as unknown as {\n          $el: HTMLElement\n        }\n        //    display:none offsetWidth  \n        if (refBlock && refBlock.$el.offsetWidth) {\n          if (this.block.sticky === Sticky.BL || this.block.sticky === Sticky.TL) {\n            position.left = `calc(50% - calc(${refBlock.$el.offsetWidth}px / 2))`\n          } else {\n            position.right = `calc(50% - calc(${refBlock.$el.offsetWidth}px / 2))`\n          }\n        }\n      }\n      //   ()\n      if (!this.block.stickyTo?.guid && this.block.onCenter?.horizontalAdaptive && this.isShowing) {\n        const refBlock = this.getStore().getRefByGuid(this.block.guid) as unknown as {\n          $el: HTMLElement\n        }\n        //    display:none offsetWidth  \n        if (refBlock && refBlock.$el.offsetWidth) {\n          position.marginLeft = 'auto'\n          position.marginLeft = 'auto'\n          position.marginRight = 'auto'\n          position.left = '0'\n          position.right = '0'\n        }\n      }\n\n      if (!this.block.stickyTo?.guid && this.block.onCenter?.vertical && this.isShowing) {\n        const refBlock = this.getStore().getRefByGuid(this.block.guid) as unknown as {\n          $el: HTMLElement\n        }\n        if (refBlock) {\n          if (this.block.sticky === Sticky.TR || this.block.sticky === Sticky.TL) {\n            position.top = `calc(50% - calc(${refBlock.$el.offsetHeight}px / 2))`\n          } else {\n            position.bottom = `calc(50% - calc(${refBlock.$el.offsetHeight}px / 2))`\n          }\n        }\n      }\n\n      return Object.assign(position, {\n        zIndex: this.zIndex\n      })\n    },\n\n    blockTabStyle () {\n      let style = ''\n\n      if (this.block.tabs) {\n        style += this.block.tabs.tabStyle\n      }\n\n      return style\n    },\n\n    blockContentStyle () {\n      let style = ''\n\n      const block = this.block\n\n      if (block.style) {\n        style += block.style\n      }\n\n      if (block.isHover) {\n        if (block.interactive?.containerHoverStyle) {\n          style += '; ' + block.interactive.containerHoverStyle\n        }\n      }\n\n      return style\n    },\n\n    isShowChildren () {\n      let isShow = true\n\n      const block = this.block\n\n      if (block.properties?.contentType === 'registry') {\n        isShow = false\n      }\n\n      return isShow\n    },\n    isActiveScrollHover (): boolean {\n      return !!this.block?.isScrollHover\n    }\n  },\n\n  watch: {\n    activeTabGuid (value) {\n      this.scrollHeight = 0\n      this.scrollWidth = 0\n      if (!this.visitedTabGuids.includes(value)) {\n        this.visitedTabGuids.push(value)\n      }\n      this.$nextTick(() => {\n        this.setStretchedSize()\n      })\n    },\n    availableTabs (value) {\n      let someGuid = value.some((item: { guid?: string }) => item?.guid === this.activeTabGuid)\n      if (!someGuid) {\n        this.onTabClick(value[0].guid)\n      }\n    }\n  },\n\n  mounted () {\n    this.setParent()\n    this.$nextTick(() => {\n      this.setStretchedSize()\n      this.setSticky(this.block?.stickyTo?.guid)\n      if (this.isTabsContainer) {\n        this.setIsShowArrows()\n      }\n    })\n    if (this.block?.tabs?.use && this.block?.tabs?.list?.length > 0) {\n      if (this.block.tabs.saveActiveTab && this.block.tabs.activeGuid) {\n        this.onTabClick(this.block.tabs.activeGuid || this.availableTabs[0].guid)\n      } else {\n        this.onTabClick(this.availableTabs[0].guid)\n      }\n      //    \n      let defaultTab = this.getDefaultTab()\n      if (defaultTab) {\n        this.onTabClick(defaultTab)\n      }\n    }\n    if (this.block?.isStretched && this.$refs.container && this.$refs.container instanceof Element) {\n      let children: HTMLCollection = this.$refs.container.children\n      const observer = new ResizeObserver(() => {\n        this.setStretchedSize()\n      })\n      for (let item of children) {\n        observer.observe(item)\n      }\n      const observerInserted = new MutationObserver(mutationList =>\n        mutationList.filter(m => m.type === 'childList').forEach(m => {\n          observer.observe(m.target as Element)\n        }))\n      observerInserted.observe(this.$refs.container, { childList: true, subtree: true })\n    }\n    this.prepareReplication()\n    this.getStore().addRef(this.block.guid, this)\n  },\n\n  beforeDestroy () {\n    this.getStore().removeRef(this.block.guid)\n  },\n\n  methods: {\n    showChildTabs (guid: string) {\n      if (this.block.tabs) {\n        let tabs = this.buidTreeTabs(this.visibleTabs)\n        //     \n        tabs[guid].data.isExpanded = !tabs[guid].data.isExpanded\n        //      -    child.   \"\"\n        tabs[guid].childNodes.forEach(function search (item: any) {\n          item.data.isShow = !item.data.isShow\n          if (item.childNodes?.length > 0 && item.data.isExpanded) {\n            item.childNodes.forEach((item: any) => search(item))\n          }\n        })\n      }\n    },\n    //    childNodes\n    buidTreeTabs (tabs: { guid: string, name: string, data: any }[]) {\n      const hashTable = Object.create(null)\n      for (let item of tabs) {\n        hashTable[item.guid] = { ...item, childNodes: [] }\n      }\n      for (let item of tabs) {\n        if (hashTable[item.data.parentTabForTree]) {\n          hashTable[item.data.parentTabForTree].childNodes.push(hashTable[item.guid])\n        }\n      }\n\n      return hashTable\n    },\n    isShowTabs (tab: { guid: string, name: string, data: any }): boolean {\n      if (tab.data.parentTabForTree === '') {\n        return true\n      }\n      if (tab.data.isShow) {\n        return true\n      }\n\n      return false\n    },\n    setSticky (guid?: string) {\n      if (guid) {\n        this.stickyToBlock = this.getStore().getByGuid(guid)\n        this.stickyToElement = this.getStore().getRefByGuid(guid) as unknown as {\n          positionStyle: {\n            top: string, height: string, left: string, width: string\n          }\n        }\n      } else {\n        this.stickyToBlock = undefined\n        this.stickyToElement = undefined\n      }\n    },\n    setStretchedSize () {\n      this.scrollHeight = 0\n      this.scrollWidth = 0\n      this.$nextTick(() => {\n        this.scrollHeight = this.$el.getElementsByClassName('content')[0].scrollHeight\n        this.scrollWidth = this.$el.getElementsByClassName('content')[0].scrollWidth\n      })\n    },\n    onReplicateBlock (event: {}) {\n      if (this.replicationCallback) {\n        this.replicationCallback(Object.assign({}, event, {\n          replicationBlockGuid: this.block.guid,\n          replicationIndex: this.replicationIndex\n        }))\n      }\n    },\n\n    async prepareReplication (offset = {}): Promise<void> {\n      if (!this.block.replication?.function) {\n        return\n      }\n      let blocksData: any[] = []\n      try {\n        blocksData = await this.block.replication?.function(offset)\n      } catch (e) {\n        console.log('Error in replication request', e)\n      }\n      if (blocksData.length === 0) {\n        this.block.isHidden = true\n        /* this.$nextTick(() => {\n          this.getStore().remove(this.block.guid)\n        }) */\n        return\n      }\n      this.block.isHidden = false\n      blocksData.shift()\n      let me = this\n      let lastGuid = me.block.guid\n      let columns = me.block.replication?.columns || 1\n      let rowGuids: { [index: string]: any; } = { 0: [me.block.guid] }\n      let row = 0\n      this.replicationIndex = 0\n      const listenerGuid = this.getStore().addListener(new SimpleAddListener(this.onReplicateBlock))\n      blocksData.forEach((item: object, index: number) => {\n        const newBlock = JSON.parse(JSON.stringify(me.block))\n        newBlock.replication = undefined\n        this.replicationIndex = this.replicationIndex + 1\n        if ((index + 1) % columns !== 0) {\n          if (me.block.replication?.horizontalMargin?.value) {\n            newBlock.left = me.block.replication?.horizontalMargin?.value\n            newBlock.sizeTypes.left = me.block.replication?.horizontalMargin?.type || SizeTypes.PIXEL\n          } else {\n            newBlock.left = 0\n          }\n\n          newBlock.stickyTo = {\n            type: 'left',\n            guid: lastGuid\n          }\n          if (row > 0) {\n            let previousRowBlockGuid = rowGuids[row - 1][(index % columns) + 1]\n            newBlock.replication = {}\n            newBlock.replication.topBlockGuid = previousRowBlockGuid\n            if (me.block.replication?.verticalMargin?.value) {\n              newBlock.replication.verticalMargin =\n                  `${me.block.replication?.verticalMargin?.value}${me.block.replication?.verticalMargin?.type || SizeTypes.PIXEL}`\n            }\n          }\n          lastGuid = me.getStore().add(newBlock)\n        } else {\n          row++\n          if (me.block.replication?.verticalMargin?.value) {\n            newBlock.top = me.block.replication?.verticalMargin?.value\n            newBlock.sizeTypes.top = me.block.replication?.verticalMargin?.type || SizeTypes.PIXEL\n          } else {\n            newBlock.top = 0\n          }\n          newBlock.stickyTo = {\n            type: 'top',\n            guid: lastGuid\n          }\n          lastGuid = me.getStore().add(newBlock)\n        }\n        if (typeof rowGuids[row] === 'undefined') {\n          rowGuids[row] = []\n        }\n        rowGuids[row].push(lastGuid)\n      })\n      this.getStore().removeListener(listenerGuid)\n    },\n\n    setParent (): void {\n      this.parentBlock = this.block.parentGuid ? this.getStore().getByGuid(this.block.parentGuid) : undefined\n      this.parentElement = this.block.parentGuid ? this.$parent.$refs.draggableContainer as Element : undefined\n    },\n\n    scrollPrevTab (): void {\n      const tabsScroll: HTMLElement = this.$refs.tabsScroll as HTMLElement\n      const draggableContainer: HTMLElement = this.$refs.draggableContainer as HTMLElement\n      const blockWidth = draggableContainer.offsetWidth\n      this.blockWidth = draggableContainer.offsetWidth\n      this.tabsOffset -= blockWidth / 2\n      if (this.tabsOffset < 0) {\n        this.tabsOffset = 0\n        // return\n      }\n      tabsScroll.style.transform = `translateX(-${this.tabsOffset}px)`\n    },\n\n    scrollNextTab (): void {\n      const tabsScroll: HTMLElement = this.$refs.tabsScroll as HTMLElement\n      const draggableContainer: HTMLElement = this.$refs.draggableContainer as HTMLElement\n      const tabsWidth = tabsScroll.offsetWidth\n      const blockWidth = draggableContainer.offsetWidth\n      this.blockWidth = draggableContainer.offsetWidth\n      if ((tabsWidth - blockWidth) < this.tabsOffset) return\n      this.tabsOffset += blockWidth / 1.5\n      tabsScroll.style.transform = `translateX(-${this.tabsOffset}px)`\n    },\n\n    setIsShowArrows (): void {\n      if (!this.$refs.draggableContainer) return\n      const tabsScroll: HTMLElement = this.$refs.tabsScroll as HTMLElement\n      const draggableContainer: HTMLElement = this.$refs.draggableContainer as HTMLElement\n      const tabsWidth = tabsScroll.offsetWidth\n      this.tabsWidth = tabsScroll.offsetWidth\n      const blockWidth = draggableContainer.offsetWidth\n      this.blockWidth = draggableContainer.offsetWidth\n\n      if (tabsWidth > blockWidth) {\n        this.isShowArrows = true\n      } else {\n        this.isShowArrows = false\n        tabsScroll.style.transform = `translateX(-${0}px)`\n      }\n    },\n\n    getBlockTabStyle (tab: any): string {\n      let style = ';'\n\n      if (this.block.tabs) {\n        if (tab.guid === this.activeTabGuid) {\n          const newStyle = this.block.tabs.activeTabStyle\n          if (newStyle) {\n            style += '; ' + this.block.tabs.activeTabStyle\n          }\n        }\n      }\n\n      if (this.tabSettingsService) {\n        if (this.tabSettingsService.getIsStyled(tab.guid)) {\n          const newStyle = this.tabSettingsService.getStyle(tab.guid)\n          if (newStyle) {\n            style += '; ' + newStyle\n          }\n        }\n\n        if (this.tabSettingsService.getIsBlocked(tab.guid)) {\n          style += '; color: gray; cursor: not-allowed; '\n        }\n      }\n\n      return style\n    },\n\n    getDefaultTab (): string | null {\n      if (!this.block?.tabs?.use || this.block?.tabs?.list?.length === 1) {\n        return null\n      }\n\n      let tabs = this.block.tabs.list\n      for (let i = 0; i < tabs.length; i++) {\n        const currentTab = tabs[i]\n        if (this.tabSettingsService) {\n          const isDefault = this.tabSettingsService.getIsDefaultTab(currentTab.guid)\n          if (isDefault) {\n            return currentTab.guid\n          }\n        }\n      }\n\n      return null\n    },\n\n    onTabClick (guid: string) {\n      if (this.tabSettingsService && this.tabSettingsService.getIsBlocked(guid)) {\n        return\n      }\n      this.$emit('tab-click', { guid })\n      this.activeTabGuid = guid\n    }\n  }\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreviewBlock.vue?vue&type=template&id=645bc9ea&scoped=true&\"\nimport script from \"./PreviewBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreviewBlock.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreviewBlock.vue?vue&type=style&index=0&id=645bc9ea&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"645bc9ea\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport PreviewBlock from '@/infrastructure/components/PreviewBlock.vue'\n// eslint-disable-next-line no-unused-vars\nimport Vue_, { VueConstructor } from 'vue'\nimport BlockRepository from '@/infrastructure/domain/repository/BlockRepository'\n// eslint-disable-next-line no-unused-vars\nimport { BlockRepositoryInterface } from '@/domain/repository/BlockRepositoryInterface'\n// eslint-disable-next-line no-unused-vars\nimport BlockDTO from '@/domain/model/BlockDTO'\n// eslint-disable-next-line no-unused-vars\nimport { DataSourceInjected } from '@/infrastructure/domain/model/DataSourceInjected'\n// eslint-disable-next-line no-unused-vars\nimport { BlockProperties } from '@/domain/model/BlockProperties'\n\nimport TabSettings from '@/application/service/TabSettings'\n\nconst Vue = Vue_ as VueConstructor<Vue_ & DataSourceInjected>\nexport default Vue.extend({\n  name: 'VueDraggableResponsivePreviewer',\n  components: { PreviewBlock },\n\n  provide (): { getStore: Function } {\n    return {\n      getStore: this.getStore\n    }\n  },\n\n  props: {\n    replicationCallback: Function,\n    tabSettings: {\n      type: Object\n    }\n  },\n\n  data (): { store: BlockRepositoryInterface, tabSettingsService: TabSettings } {\n    return {\n      store: new BlockRepository([], true),\n      tabSettingsService: new TabSettings(this.tabSettings, this)\n    }\n  },\n\n  computed: {\n    _blocks (): BlockDTO[] {\n      return this.store.get()\n    }\n  },\n\n  watch: {\n    tabSettings: {\n      handler () {\n        this.$set(this.tabSettingsService, 'tabSettings', this.tabSettings)\n      }\n    }\n  },\n\n  methods: {\n    getStore (): BlockRepositoryInterface {\n      return this.store\n    },\n    setBlocks (blocks: BlockProperties[]): void {\n      this.store.set([])\n      this.$nextTick(() => {\n        this.store.set(blocks)\n      })\n    },\n    removeBlock (guid: string): void {\n      this.store.remove(guid)\n    },\n    getRefByGuid (guid: string): Vue | undefined {\n      return this.store.getRefByGuid(guid)\n    }\n  }\n})\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./previewer.vue?vue&type=template&id=15577791&scoped=true&\"\nimport script from \"./previewer.vue?vue&type=script&lang=ts&\"\nexport * from \"./previewer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./previewer.vue?vue&type=style&index=0&id=15577791&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15577791\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\" style=\"height: 100%\">\n    <div style=\"width: 20%;display:inline-block;float: left;height: 100%; overflow: auto\">\n      <button @click=\"addContainer(0)\">add</button>\n      <button @click=\"addContainer(1, $event)\">addT</button>\n      <button @click=\"addContainer(1, $event, true)\">addStretched</button>\n      <button @click=\"addChildren\">addChild</button>\n      <button @click=\"load\">load</button>\n      <button @click=\"addSticky($event)\">addSticky</button>\n      <button @click=\"get\">get</button>\n      <button @click=\"addWithTabs(1, $event)\">addWithTabs</button>\n      <button @click=\"addTab\">addTab</button>\n      <button @click=\"removeTab\">removeTab</button>\n      <button @click=\"preview = !preview\">preview: {{ preview }}</button>\n      <button @click=\"remove\">remove active</button>\n      <button @click=\"clearActive\">clear active</button>\n      <button @click=\"addReplication(1, $event)\">add replication</button>\n      <button @click=\"toggleHide\">toggle hide</button>\n      <button @click=\"switchWidth\">switch width</button>\n      <button @click=\"switchSticky\">sticky</button>\n      <button @click=\"addContainerPercent(1, $event)\">percent container</button>\n      <button @click=\"addContainerPixel(1, $event)\">pixel container</button>\n      <button @click=\"addMinMax()\">add min_max</button>\n      <button @click=\"addHorizontalCenter()\">add hor center</button>\n      <button @click=\"addVerticalCenter()\">add ver center</button>\n      <button @click=\"showHidden = !showHidden\">toggle show hidden: {{showHidden}}</button>\n      <select v-model=\"(activeBlock || {}).sticky\">\n        <option value=\"tr\">Top-Right</option>\n        <option value=\"tl\">Top-Left</option>\n        <option value=\"br\">Bottom-Right</option>\n        <option value=\"bl\">Bottom-Left</option>\n      </select>\n      <pre>{{ activeBlock }}</pre>\n    </div>\n    <vue-draggable-responsive\n        ref=\"designer\"\n        style=\"height: 500px;width: 1059px;display: inline-block\"\n        :step=\"1\"\n        :show-hidden=\"showHidden\"\n        @start-drag=\"onStartDrag\"\n        v-show=\"!preview\"\n        @contextmenu=\"oncontext\"\n    >\n      <template v-slot:content=\"{ block }\">\n        {{ block.guid }}\n      </template>\n    </vue-draggable-responsive>\n    <vue-draggable-responsive-previewer\n        v-if=\"preview\"\n        ref=\"previewer\"\n        style=\"height: 500px;width: 1059px;display: inline-block\"\n        :replication-callback=\"cl\"\n    >\n      <template v-slot:content=\"{ block }\">\n        {{ block.guid }}\n      </template>\n    </vue-draggable-responsive-previewer>\n  </div>\n</template>\n\n<script>\nimport VueDraggableResponsive from './index.vue'\nimport VueDraggableResponsivePreviewer from '@/previewer.vue'\nimport { StickyToType } from '@/domain/model/StickyTo'\nimport { SizeTypes } from '@/domain/model/SizeTypes'\nimport { TabPosition } from '@/domain/model/TabProperties'\n\nexport default {\n  name: 'App',\n  components: {\n    VueDraggableResponsivePreviewer,\n    VueDraggableResponsive\n  },\n  data () {\n    return {\n      activeBlock: undefined,\n      preview: false,\n      blocks: [],\n      showHidden: false\n    }\n  },\n  watch: {\n    preview (value) {\n      if (value) {\n        this.blocks = this.$refs.designer.getBlocks()\n        this.$nextTick(() => {\n          this.$refs.previewer.setBlocks(this.blocks)\n        })\n      }\n    }\n  },\n  methods: {\n    addVerticalCenter () {\n      this.$refs.designer.addBlock({\n        width: 70,\n        height: 10,\n        top: 30,\n        right: 0,\n        sticky: 'tl',\n        onCenter: {\n          vertical: true\n        },\n        sizeTypes: {\n          width: '%',\n          height: '%',\n          top: 'px',\n          left: '%'\n        }\n      })\n    },\n    addHorizontalCenter () {\n      this.$refs.designer.addBlock({\n        width: 70,\n        height: 10,\n        top: 30,\n        right: 0,\n        sticky: 'tl',\n        onCenter: {\n          horizontal: true\n        },\n        sizeTypes: {\n          width: '%',\n          height: '%',\n          top: 'px',\n          left: '%'\n        }\n      })\n    },\n    addMinMax () {\n      this.$refs.designer.addBlock({\n        width: 100,\n        height: 10,\n        top: 30,\n        right: 0,\n        sticky: 'tl',\n        minMax: {\n          maxWidth: 200\n        },\n        onCenter: {\n          horizontal: true\n        },\n        sizeTypes: {\n          width: '%',\n          height: '%',\n          top: 'px',\n          left: '%'\n        }\n      })\n    },\n    cl (event) {\n      console.log(event)\n    },\n    switchSticky () {\n      if (this.activeBlock) {\n        if (this.activeBlock.stickyTo?.guid) {\n          this.activeBlock.stickyTo.guid = undefined\n          return false\n        }\n        let block = this.$refs.designer.getBlocks().filter((item) => item.guid !== this.activeBlock.guid)[0]\n        this.activeBlock.stickyTo = {\n          guid: block.guid,\n          type: StickyToType.TOP\n        }\n      }\n    },\n    toggleHide () {\n      if (this.activeBlock) {\n        this.activeBlock.isHidden = !this.activeBlock.isHidden\n      }\n    },\n    addReplication (type, event) {\n      this.$refs.designer.addBlock({\n        width: 70,\n        height: 10,\n        top: 30,\n        right: 0,\n        sticky: 'tl',\n        type,\n        sizeTypes: {\n          width: 'px',\n          height: 'px',\n          top: 'px',\n          left: 'px'\n        },\n        event,\n        parentGuid: this.activeBlock?.guid,\n        className: 'red',\n        replication: {\n          columns: 1,\n          function: async () => {\n            const count = 7\n            let counter = 0\n            let answer = []\n            while (count > counter) {\n              answer.push({ id: counter + 1 })\n              counter++\n            }\n            await new Promise(resolve => setTimeout(resolve, 1000))\n            return answer\n          },\n          verticalMargin: {\n            type: 'px',\n            value: 20\n          },\n          horizontalMargin: {\n            type: 'px',\n            value: 20\n          }\n        }\n      })\n    },\n    clearActive () {\n      this.$refs.designer.clearActiveBlock()\n      this.activeBlock = undefined\n    },\n    oncontext (a) {\n      console.log(a)\n    },\n    removeTab () {\n      if (this.activeBlock) {\n        if (this.activeBlock.tabs?.use) {\n          this.activeBlock.tabs.list.splice(0, 1)\n        }\n      }\n    },\n    addTab () {\n      if (this.activeBlock) {\n        if (!this.activeBlock.tabs) {\n          this.$set(this.activeBlock, 'tabs', {\n            use: false,\n            list: [],\n            position: TabPosition.TOP\n          })\n        }\n        this.activeBlock.tabs.use = true\n        if (this.activeBlock.tabs?.use) {\n          this.activeBlock.tabs.list.push({\n            name: `  - ${this.activeBlock.tabs.list.length}`,\n            guid: Date.now()\n          })\n        }\n      }\n    },\n    switchWidth () {\n      if (!this.activeBlock) {\n        return false\n      }\n      this.activeBlock.sizeTypes.bottom = this.activeBlock.sizeTypes.bottom ===\n      SizeTypes.PERCENT ? SizeTypes.PIXEL : SizeTypes.PERCENT\n    },\n    addWithTabs (type, event) {\n      this.$refs.designer.addBlock({\n        width: 70,\n        height: 10,\n        top: 30,\n        right: 0,\n        sticky: 'tl',\n        type,\n        event,\n        isStretched: true,\n        tabs: {\n          class: 'test',\n          use: true,\n          containerStyle: 'background: grey',\n          tabStyle: 'color:black',\n          tabArrowsClass: 'testArr',\n          activeTabStyle: 'color:green',\n          requiredTabs: ['asdasdas'],\n          list: [\n            {\n              guid: 'asdasdas',\n              name: 'test'\n            },\n            {\n              guid: 'asdasdas2',\n              name: 'test2'\n            }\n          ],\n          position: 'top'\n        }\n      })\n    },\n    load () {\n      this.activeBlock = undefined\n      this.$refs.designer.setBlocks([\n        {\n          'isStretched': true,\n          'isActive': true,\n          'isActiveAsParent': false,\n          'tabs': {\n            'class': 'test',\n            'use': true,\n            'containerStyle': 'background: grey',\n            'tabStyle': 'color:black',\n            'tabArrowsClass': 'testArr',\n            'activeTabStyle': 'color:green',\n            'list': [\n              {\n                'guid': 'asdasdas',\n                'name': 'test'\n              },\n              {\n                'guid': 'asdasdas2',\n                'name': 'test2'\n              }\n            ],\n            'position': 'top',\n            'activeGuid': 'asdasdas'\n          },\n          'isHover': false,\n          'isHidden': false,\n          'top': 22,\n          'right': 82,\n          'bottom': 91,\n          'left': 9,\n          'sticky': 'tl',\n          'sizeTypes': {\n            'width': '%',\n            'height': '%',\n            'top': '%',\n            'right': '%',\n            'bottom': '%',\n            'left': '%'\n          },\n          'children': [\n            {\n              'isStretched': false,\n              'isActive': false,\n              'isActiveAsParent': false,\n              'isHover': false,\n              'isHidden': false,\n              'top': 81.109375,\n              'right': 78,\n              'bottom': 488,\n              'left': 10,\n              'sticky': 'tl',\n              'sizeTypes': {\n                'width': '%',\n                'height': 'px',\n                'top': 'px',\n                'left': '%',\n                'right': '%',\n                'bottom': '%'\n              },\n              onCenter: {\n                horizontal: true,\n                vertical: true\n              },\n              'children': [],\n              'width': 70,\n              'height': 100,\n              'guid': '3bb941e8-996e-45f6-afce-1bfcc95e4bcd',\n              'parentGuid': 'f5cd4eaf-0005-482a-87aa-b34aa1e0ab1b',\n              'parentTabGuid': 'asdasdas',\n              'isEditing': false\n            },\n            {\n              'isStretched': false,\n              'isActive': false,\n              'isActiveAsParent': false,\n              'isHover': false,\n              'isHidden': false,\n              'top': 62.109375,\n              'right': 76,\n              'bottom': 490,\n              'left': 14,\n              'sticky': 'tl',\n              'sizeTypes': {\n                'width': '%',\n                'height': 'px',\n                'top': 'px',\n                'left': '%',\n                'right': '%',\n                'bottom': '%'\n              },\n              'children': [],\n              'width': 70,\n              'height': 100,\n              'guid': '3e22f8e6-a83c-4387-bdd3-441611917bc9',\n              'parentGuid': 'f5cd4eaf-0005-482a-87aa-b34aa1e0ab1b',\n              'parentTabGuid': 'asdasdas2',\n              'isEditing': false\n            }\n          ],\n          'width': 84,\n          'height': 55,\n          'guid': 'f5cd4eaf-0005-482a-87aa-b34aa1e0ab1b',\n          'isEditing': false\n        },\n        {\n          'top': 9,\n          'guid': '528bc98d-e443-4830-add6-596e22b981b1',\n          'left': 21,\n          'right': 48,\n          'width': 10,\n          'bottom': 60,\n          'height': 10,\n          'sticky': 'tl',\n          'heightCalc': {\n            type: '-',\n            value: 200\n          },\n          'children': [],\n          'sizeTypes': {\n            'top': '%',\n            'left': '%',\n            'right': '%',\n            'width': '%',\n            'bottom': '%',\n            'height': '%'\n          }\n        },\n        {\n          'top': 16,\n          'guid': 'a7a8f391-0973-4d6b-a9d9-ab9bca5f9de6',\n          'left': 62,\n          'right': 39,\n          'style': 'background:red',\n          'width': 10,\n          'bottom': 65,\n          'height': 10,\n          'sticky': 'tl',\n          'children': [],\n          'sizeTypes': {\n            'top': '%',\n            'left': '%',\n            'right': '%',\n            'width': '%',\n            'bottom': '%',\n            'height': '%'\n          }\n        }\n      ])\n    },\n    remove () {\n      if (this.activeBlock) {\n        this.$refs.designer.removeBlock(this.activeBlock.guid)\n        this.activeBlock = undefined\n      }\n    },\n    get () {\n      console.log(this.$refs.designer.getBlocks())\n    },\n    onStartDrag (block) {\n      this.activeBlock = block\n      this.$refs.designer.setActiveBlock(block.guid)\n    },\n    addSticky (event) {\n      if (this.activeBlock) {\n        this.$refs.designer.addBlock({\n          width: 40,\n          height: 100,\n          top: 10,\n          left: 20,\n          sticky: 'tl',\n          parentGuid: this.activeBlock.parentGuid,\n          sizeTypes: {\n            width: '%',\n            height: 'px',\n            top: 'px',\n            left: '%'\n          },\n          stickyTo: {\n            guid: this.activeBlock.guid,\n            type: StickyToType.TOP\n          },\n          event,\n          type: 1\n        })\n      }\n    },\n    addContainer (type, event, isStretched = false) {\n      this.$refs.designer.addBlock({\n        width: 70,\n        height: 100,\n        top: 30,\n        right: 0,\n        className: 'green',\n        sticky: 'tl',\n        sizeTypes: {\n          width: '%',\n          height: 'px',\n          top: 'px',\n          left: '%'\n        },\n        type,\n        event,\n        isStretched\n      })\n    },\n    addContainerPixel (type, event, isStretched = false) {\n      this.$refs.designer.addBlock({\n        width: 70,\n        height: 100,\n        top: 30,\n        right: 0,\n        sticky: 'tl',\n        sizeTypes: {\n          width: 'px',\n          height: 'px',\n          top: 'px',\n          left: 'px',\n          right: 'px',\n          bottom: 'px'\n        },\n        type,\n        event,\n        isStretched\n      })\n    },\n    addContainerPercent (type, event, isStretched = false) {\n      this.$refs.designer.addBlock({\n        width: 70,\n        height: 100,\n        top: 30,\n        right: 0,\n        sticky: 'tl',\n        sizeTypes: {\n          width: '%',\n          height: '%',\n          top: '%',\n          left: '%'\n        },\n        type,\n        event,\n        isStretched\n      })\n    },\n    addChildren (event) {\n      this.$refs.designer.addBlock(\n        {\n          width: 70,\n          height: 100,\n          sizeTypes: {\n            width: '%',\n            height: 'px',\n            top: 'px',\n            left: '%'\n          },\n          top: 30,\n          left: 20,\n          parentGuid: this.activeBlock.guid,\n          type: 1,\n          event: event\n        }\n      )\n    }\n  }\n}\n</script>\n\n<style>\n.red {\n  background: red;\n}\n.green {\n  background: green;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4ef83473&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App)\n}).$mount('#app')\n"],"sourceRoot":""}